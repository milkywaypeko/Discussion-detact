[{
  "url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393",
  "repository_url": "https://api.github.com/repos/scikit-learn/scikit-learn",
  "labels_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393/labels{/name}",
  "comments_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393/comments",
  "events_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393/events",
  "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393",
  "id": 243487565,
  "node_id": "MDU6SXNzdWUyNDM0ODc1NjU=",
  "number": 9393,
  "title": "Debian test failures (was test_preserve_trustworthiness_approximately fails on 32bit: AssertionError: 0.89166666666666661 not greater than 0.9)",
  "user": {
    "login": "yarikoptic",
    "id": 39889,
    "node_id": "MDQ6VXNlcjM5ODg5",
    "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yarikoptic",
    "html_url": "https://github.com/yarikoptic",
    "followers_url": "https://api.github.com/users/yarikoptic/followers",
    "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}",
    "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions",
    "organizations_url": "https://api.github.com/users/yarikoptic/orgs",
    "repos_url": "https://api.github.com/users/yarikoptic/repos",
    "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yarikoptic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 273400470,
      "node_id": "MDU6TGFiZWwyNzM0MDA0NzA=",
      "url": "https://api.github.com/repos/scikit-learn/scikit-learn/labels/Blocker",
      "name": "Blocker",
      "color": "e11d21",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/scikit-learn/scikit-learn/milestones/25",
    "html_url": "https://github.com/scikit-learn/scikit-learn/milestone/25",
    "labels_url": "https://api.github.com/repos/scikit-learn/scikit-learn/milestones/25/labels",
    "id": 2711856,
    "node_id": "MDk6TWlsZXN0b25lMjcxMTg1Ng==",
    "number": 25,
    "title": "0.19.1",
    "description": "",
    "creator": {
      "login": "jnothman",
      "id": 78827,
      "node_id": "MDQ6VXNlcjc4ODI3",
      "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnothman",
      "html_url": "https://github.com/jnothman",
      "followers_url": "https://api.github.com/users/jnothman/followers",
      "following_url": "https://api.github.com/users/jnothman/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions",
      "organizations_url": "https://api.github.com/users/jnothman/orgs",
      "repos_url": "https://api.github.com/users/jnothman/repos",
      "events_url": "https://api.github.com/users/jnothman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnothman/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 59,
    "state": "closed",
    "created_at": "2017-08-20T23:27:32Z",
    "updated_at": "2018-06-25T05:42:11Z",
    "due_on": "2017-09-08T07:00:00Z",
    "closed_at": "2018-06-25T05:42:11Z"
  },
  "comments": 86,
  "created_at": "2017-07-17T18:39:27Z",
  "updated_at": "2018-10-03T23:55:47Z",
  "closed_at": "2017-10-16T14:23:43Z",
  "author_association": "MEMBER",
  "body": "building 0.19b2 on debian/ubuntus ... still ongoing but I see consistent failure on Debian stretch (nd90, current stable) and testing (nd100), 32bit only (ok on amd64 build):\r\n```\r\nneurodebian@smaug ~/deb/builds/scikit-learn/0.19~b2-1 % grep -5 AssertionError: *build\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-Traceback (most recent call last):\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-  File \"/usr/lib/python2.7/dist-packages/nose/case.py\", line 197, in runTest\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-    self.test(*self.arg)\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-  File \"/build/scikit-learn-0.19~b2/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/manifold/tests/test_t_sne.py\", line 247, in test_preserve_trustworthiness_approximately\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-    assert_greater(t, 0.9)\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build:AssertionError: 0.89166666666666661 not greater than 0.9\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-----------------------------------------------------------------------\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-Ran 7969 tests in 285.883s\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-\r\nscikit-learn_0.19~b2-1~nd100+1_i386.build-FAILED (SKIP=73, failures=1)\r\n--\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-Traceback (most recent call last):\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-  File \"/usr/lib/python2.7/dist-packages/nose/case.py\", line 197, in runTest\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-    self.test(*self.arg)\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-  File \"/build/scikit-learn-0.19~b2/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/manifold/tests/test_t_sne.py\", line 247, in test_preserve_trustworthiness_approximately\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-    assert_greater(t, 0.9)\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build:AssertionError: 0.89166666666666661 not greater than 0.9\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-----------------------------------------------------------------------\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-Ran 7969 tests in 288.113s\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-\r\nscikit-learn_0.19~b2-1~nd90+1_i386.build-FAILED (SKIP=73, failures=1)\r\n```\r\nin both cases python-numpy is `1:1.12.1-3` (i.e. 1.12.1 numpy) and passed ok with numpy 1.8.2 in Debian jessie.\r\n",
  "closed_by": {
    "login": "lesteve",
    "id": 1680079,
    "node_id": "MDQ6VXNlcjE2ODAwNzk=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lesteve",
    "html_url": "https://github.com/lesteve",
    "followers_url": "https://api.github.com/users/lesteve/followers",
    "following_url": "https://api.github.com/users/lesteve/following{/other_user}",
    "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions",
    "organizations_url": "https://api.github.com/users/lesteve/orgs",
    "repos_url": "https://api.github.com/users/lesteve/repos",
    "events_url": "https://api.github.com/users/lesteve/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lesteve/received_events",
    "type": "User",
    "site_admin": false
  }
},{"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/316112840", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-316112840", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 316112840, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjExMjg0MA==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-18T16:04:47Z", "updated_at": "2017-07-18T16:04:47Z", "author_association": "MEMBER", "body": "ping @ogrisel?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/316301923", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-316301923", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 316301923, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjMwMTkyMw==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-19T07:50:04Z", "updated_at": "2017-07-19T07:50:04Z", "author_association": "MEMBER", "body": "Interesting, it's a only on a combo of numpy 1.12.1 and 32 bit python...\r\n\r\nThose tests pass with 32 bit python and numpy 1.13.1 on our wheel building travis:\r\n\r\nhttps://travis-ci.org/MacPython/scikit-learn-wheels\r\n\r\n@tomMoral if you want to play with docker, this is a good opportunity ;)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/316309103", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-316309103", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 316309103, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjMwOTEwMw==", "user": {"login": "tomMoral", "id": 3321081, "node_id": "MDQ6VXNlcjMzMjEwODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3321081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomMoral", "html_url": "https://github.com/tomMoral", "followers_url": "https://api.github.com/users/tomMoral/followers", "following_url": "https://api.github.com/users/tomMoral/following{/other_user}", "gists_url": "https://api.github.com/users/tomMoral/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomMoral/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomMoral/subscriptions", "organizations_url": "https://api.github.com/users/tomMoral/orgs", "repos_url": "https://api.github.com/users/tomMoral/repos", "events_url": "https://api.github.com/users/tomMoral/events{/privacy}", "received_events_url": "https://api.github.com/users/tomMoral/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-19T08:19:15Z", "updated_at": "2017-07-19T08:19:15Z", "author_association": "CONTRIBUTOR", "body": "@ogrisel I will give it a try :)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/316327560", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-316327560", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 316327560, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjMyNzU2MA==", "user": {"login": "tomMoral", "id": 3321081, "node_id": "MDQ6VXNlcjMzMjEwODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3321081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomMoral", "html_url": "https://github.com/tomMoral", "followers_url": "https://api.github.com/users/tomMoral/followers", "following_url": "https://api.github.com/users/tomMoral/following{/other_user}", "gists_url": "https://api.github.com/users/tomMoral/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomMoral/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomMoral/subscriptions", "organizations_url": "https://api.github.com/users/tomMoral/orgs", "repos_url": "https://api.github.com/users/tomMoral/repos", "events_url": "https://api.github.com/users/tomMoral/events{/privacy}", "received_events_url": "https://api.github.com/users/tomMoral/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-19T09:29:13Z", "updated_at": "2017-07-19T09:29:13Z", "author_association": "CONTRIBUTOR", "body": "@yarikoptic I am unable to reproduce the failure on 32bit debian `strech` on docker.\r\nI tried installing python and scikit dependency using `apt install` and the test passed for both `python2.7.13` and `python3.5.3`.\r\nDo you have a specific configuration that could explain the difference?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/317368458", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-317368458", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 317368458, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzM2ODQ1OA==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-24T09:27:53Z", "updated_at": "2017-07-24T09:27:53Z", "author_association": "MEMBER", "body": "@yarikoptic @tomMoral how can you install numpy 1.12.1 on debian stretch? Which repo did you use to produce this failure?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/317665222", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-317665222", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 317665222, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzY2NTIyMg==", "user": {"login": "tomMoral", "id": 3321081, "node_id": "MDQ6VXNlcjMzMjEwODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3321081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomMoral", "html_url": "https://github.com/tomMoral", "followers_url": "https://api.github.com/users/tomMoral/followers", "following_url": "https://api.github.com/users/tomMoral/following{/other_user}", "gists_url": "https://api.github.com/users/tomMoral/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomMoral/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomMoral/subscriptions", "organizations_url": "https://api.github.com/users/tomMoral/orgs", "repos_url": "https://api.github.com/users/tomMoral/repos", "events_url": "https://api.github.com/users/tomMoral/events{/privacy}", "received_events_url": "https://api.github.com/users/tomMoral/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-25T08:19:51Z", "updated_at": "2017-07-25T11:45:34Z", "author_association": "CONTRIBUTOR", "body": "@ogrisel I installed the `python-numpy` package, which uses version 1.12.1 and used branch `0.19.b2` for `scikit`.\r\nEDIT: I used this docker image: `mcandre/docker-debian-32bit:stretch`"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/317711548", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-317711548", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 317711548, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzcxMTU0OA==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-25T11:39:42Z", "updated_at": "2017-07-25T11:39:42Z", "author_association": "MEMBER", "body": "Indeed I was using an older image (jessie). I confirm I cannot reproduce the issue on stretch with the following 32 bit image: `jhsu802701/32bit-debian-stretch-min`."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/318878843", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-318878843", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 318878843, "node_id": "MDEyOklzc3VlQ29tbWVudDMxODg3ODg0Mw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-30T05:05:10Z", "updated_at": "2017-07-30T05:05:10Z", "author_association": "MEMBER", "body": "@yarikoptic, we would like to release. We need a way to reproduce the error, or we will need to skip the tests / lower the condition on certain architectures."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/321989432", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-321989432", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 321989432, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTk4OTQzMg==", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-12T15:54:10Z", "updated_at": "2017-08-12T15:54:10Z", "author_association": "MEMBER", "body": "oh -- I have managed to miss your message @jnothman and 0.13.0 came out without the fix, my bad.  I will release debian packages as is (without i386 build for some) and later give you exact instruction on how to reproduce."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/321990059", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-321990059", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 321990059, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTk5MDA1OQ==", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-12T16:05:46Z", "updated_at": "2017-08-12T16:05:46Z", "author_association": "MEMBER", "body": "FWIW -- issue in general reproducible:  https://buildd.debian.org/status/package.php?p=scikit-learn&suite=experimental  (check i386 build) and some other builds have other issues btw (that was in beta -- let's wait for current release to get built in unstable before summarizing coming up issues on some other architectures)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322043975", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322043975", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322043975, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjA0Mzk3NQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-13T14:01:13Z", "updated_at": "2017-08-13T14:01:13Z", "author_association": "MEMBER", "body": "Right. I see in the logs there an alarming number of fails for a final release :(((\r\n\r\nAnd none of them are about `test_preserve_trustworthiness_approximately`\r\n\r\n```\r\n======================================================================\r\nFAIL: sklearn.feature_extraction.tests.test_feature_hasher.test_hasher_alternate_sign\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/dist-packages/nose/case.py\", line 197, in runTest\r\n    self.test(*self.arg)\r\n  File \"/<<PKGBUILDDIR>>/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/utils/testing.py\", line 291, in wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/<<PKGBUILDDIR>>/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/feature_extraction/tests/test_feature_hasher.py\", line 122, in test_hasher_alternate_sign\r\n    assert_true(len(Xt.data) < len(X[0]))\r\nAssertionError: False is not true\r\n\r\n----------------------------------------------------------------------\r\n\r\n======================================================================\r\nFAIL: sklearn.feature_selection.tests.test_from_model.test_feature_importances\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/dist-packages/nose/case.py\", line 197, in runTest\r\n    self.test(*self.arg)\r\n  File \"/<<PKGBUILDDIR>>/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/utils/testing.py\", line 667, in run_test\r\n    return func(*args, **kwargs)\r\n  File \"/<<PKGBUILDDIR>>/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/feature_selection/tests/test_from_model.py\", line 72, in test_feature_importances\r\n    assert_almost_equal(importances, importances_bis, decimal=4)\r\n  File \"/usr/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 573, in assert_almost_equal\r\n    return assert_array_almost_equal(actual, desired, decimal, err_msg)\r\n  File \"/usr/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 979, in assert_array_almost_equal\r\n    precision=decimal)\r\n  File \"/usr/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 796, in assert_array_compare\r\n    raise AssertionError(msg)\r\nAssertionError: \r\nArrays are not almost equal to 4 decimals\r\n\r\n(mismatch 70.0%)\r\n x: array([ 0.1537,  0.2294,  0.1825,  0.0667,  0.0485,  0.0587,  0.0643,\r\n        0.0642,  0.066 ,  0.066 ])\r\n y: array([ 0.1527,  0.2294,  0.1822,  0.0675,  0.0483,  0.0587,  0.0648,\r\n        0.0642,  0.0656,  0.0665])\r\n\r\n----------------------------------------------------------------------\r\nON HURD-I386:\r\n======================================================================\r\nFAIL: sklearn.tests.test_multioutput.test_multi_output_classification_partial_fit_parallelism\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/dist-packages/nose/case.py\", line 197, in runTest\r\n    self.test(*self.arg)\r\n  File \"/<<PKGBUILDDIR>>/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/tests/test_multioutput.py\", line 171, in test_multi_output_classification_partial_fit_parallelism\r\n    assert_false(est1 is est2)\r\nAssertionError: True is not false\r\n\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322049679", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322049679", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322049679, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjA0OTY3OQ==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-13T15:46:37Z", "updated_at": "2017-08-13T15:46:37Z", "author_association": "MEMBER", "body": "The last is the most confusing to me tbh."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322062607", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322062607", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322062607, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjA2MjYwNw==", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-13T19:36:57Z", "updated_at": "2017-08-13T19:36:57Z", "author_association": "MEMBER", "body": "yeah, that 32bit issue didn't reproduce in current build.  I guess it is not fully deterministic... will try to reproduce now \"locally\""}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322073542", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322073542", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322073542, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjA3MzU0Mg==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-13T23:10:56Z", "updated_at": "2017-08-13T23:10:56Z", "author_association": "MEMBER", "body": "and do we need to fix the other test failures for scikit-learn 0.19 to ship\nwith Debian?\n\nOn 14 Aug 2017 5:36 am, \"Yaroslav Halchenko\" <notifications@github.com>\nwrote:\n\n> yeah, that 32bit issue didn't reproduce in current build. I guess it is\n> not fully deterministic... will try to reproduce now \"locally\"\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322062607>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz6_Vl2p-YlYcXSQOpCp6hl1B8UufNks5sX1BbgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322076995", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322076995", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322076995, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjA3Njk5NQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-14T00:23:08Z", "updated_at": "2017-08-14T00:23:08Z", "author_association": "MEMBER", "body": "That last failure is not confusing after a little investigation. It's a result of `n_jobs=-1` being the same as `n_jobs=1` on a machine with 1 core."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322077312", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322077312", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322077312, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjA3NzMxMg==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-14T00:28:42Z", "updated_at": "2017-08-14T00:28:42Z", "author_association": "MEMBER", "body": "@rth, do you mind looking into the `test_hasher_alternate_sign` failure above?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322130322", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322130322", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322130322, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjEzMDMyMg==", "user": {"login": "rth", "id": 630936, "node_id": "MDQ6VXNlcjYzMDkzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/630936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rth", "html_url": "https://github.com/rth", "followers_url": "https://api.github.com/users/rth/followers", "following_url": "https://api.github.com/users/rth/following{/other_user}", "gists_url": "https://api.github.com/users/rth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rth/subscriptions", "organizations_url": "https://api.github.com/users/rth/orgs", "repos_url": "https://api.github.com/users/rth/repos", "events_url": "https://api.github.com/users/rth/events{/privacy}", "received_events_url": "https://api.github.com/users/rth/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-14T08:33:04Z", "updated_at": "2017-08-14T08:33:04Z", "author_association": "MEMBER", "body": "> FWIW -- issue in general reproducible: https://buildd.debian.org/status/package.php?p=scikit-learn&suite=experimental (check i386 build)\r\n\r\n@yarikoptic On this link I see \"No entry in i386 database, check Packages-arch-specific\" (with \"Suite: experimental\"). Is there another way of getting this i386 build for debian? or did I miss something? Thanks.\r\n\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322133270", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322133270", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322133270, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjEzMzI3MA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-14T08:48:16Z", "updated_at": "2017-08-14T08:48:16Z", "author_association": "MEMBER", "body": "yeah, i clicked the logs column after failing to work it out\n\nOn 14 Aug 2017 6:33 pm, \"Roman Yurchak\" <notifications@github.com> wrote:\n\n> FWIW -- issue in general reproducible: https://buildd.debian.org/\n> status/package.php?p=scikit-learn&suite=experimental (check i386 build)\n>\n> @yarikoptic <https://github.com/yarikoptic> On this link I see \"No entry\n> in i386 database, check Packages-arch-specific\" (with \"Suite:\n> experimental\"). Is there another way of getting this i386 build for debian?\n> or did I miss something? Thanks.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322130322>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz6278vIWQxyGIzPkqRYHZohTGvgfyks5sYAZCgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322205018", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322205018", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322205018, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjIwNTAxOA==", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-14T14:27:16Z", "updated_at": "2017-08-14T14:27:16Z", "author_association": "MEMBER", "body": "Thank you very much for looking into those!\r\n\r\nFWIW -- locally I had only the test_multi_output_classification_partial_fit_parallelism to popup and indeed it was due to inability to do multiprocessing in my case (absent bound to /dev/shm I guess):\r\n```\r\n/usr/lib/python2.7/dist-packages/joblib/_multiprocessing_helpers.py:28: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode\r\n```\r\nit passes just fine when I have /dev/shm mounted and joblib does not complaint. \r\n\r\nRe\r\n\r\n> and do we need to fix the other test failures for scikit-learn 0.19 to ship with Debian?\r\n\r\nwell -- for unstable Debian -- no.  But if we want to have it propagate into testing and thus become a part of the next Debian stable release (Whenever that would be) -- yes, should get addressed one way (fixed) or another (disabled)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322214093", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322214093", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322214093, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjIxNDA5Mw==", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-14T14:59:34Z", "updated_at": "2017-08-14T14:59:34Z", "author_association": "MEMBER", "body": "re original `test_preserve_trustworthiness_approximately`\r\n- specific to older versions of something (yet to figure out since numpy as nscipy are the same) since is not reproducible on current debian sid but reproducible on testing (from few days back) and other older releases.\r\n- specific to init='pca' method='exact'\r\n\r\nbefore I spend more time -- is there specific meaning for the threshold to be 0.9? may be it could just be relaxed a little? ;)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322214890", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322214890", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322214890, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjIxNDg5MA==", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-14T15:02:26Z", "updated_at": "2017-08-14T15:02:26Z", "author_association": "MEMBER", "body": "btw these are the values I see for t, init, method\r\n```\r\n(0.95874999999999999, 'random', 'exact')\r\n(0.96958333333333335, 'random', 'barnes_hut')\r\n(0.89166666666666661, 'pca', 'exact')\r\n(0.95291666666666663, 'pca', 'barnes_hut')\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322340856", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322340856", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 322340856, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjM0MDg1Ng==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-14T23:53:39Z", "updated_at": "2017-08-14T23:53:39Z", "author_association": "MEMBER", "body": "i think .9 is somewhat arbitrary but we'd like to be sure that the\nvariation isn't pointing to something more sinister\n\nOn 15 Aug 2017 1:03 am, \"Yaroslav Halchenko\" <notifications@github.com>\nwrote:\n\n> btw these are the values I see for t, init, method\n>\n> (0.95874999999999999, 'random', 'exact')\n> (0.96958333333333335, 'random', 'barnes_hut')\n> (0.89166666666666661, 'pca', 'exact')\n> (0.95291666666666663, 'pca', 'barnes_hut')\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322214890>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz6wXVP59e2g1QtDqtkzOWd39xyPGNks5sYGGFgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323250582", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323250582", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323250582, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzI1MDU4Mg==", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-18T03:33:36Z", "updated_at": "2017-08-18T03:33:36Z", "author_association": "MEMBER", "body": "@jnothman how could we discover? ;)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323516785", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323516785", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323516785, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzUxNjc4NQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-19T11:09:47Z", "updated_at": "2017-08-19T11:09:47Z", "author_association": "MEMBER", "body": "By pinpointing where this and other machines diverge in their calculation... Not that that's easy to do without at least a VM of the target machine."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323748166", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323748166", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323748166, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzc0ODE2Ng==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-21T13:48:41Z", "updated_at": "2017-08-21T13:48:41Z", "author_association": "MEMBER", "body": "@rth could the `assert_true(len(Xt.data) < len(X[0]))` failure be because of floating point error (i.e. a small number was in Xt.data instead of 0, and so was not removed)?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323748933", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323748933", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323748933, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzc0ODkzMw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-21T13:52:26Z", "updated_at": "2017-08-21T13:52:26Z", "author_association": "MEMBER", "body": "@amueller, `test_from_model.test_feature_importances` already is marked with `skip_if_32bit` suggesting perhaps that this assertion is brittle. The test is failing where the importances in a model are being asserted identical to the importance in a similar model trained with sample_weight=3*orig_weights. Any ideas how to fix here?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323857844", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323857844", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323857844, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzg1Nzg0NA==", "user": {"login": "rth", "id": 630936, "node_id": "MDQ6VXNlcjYzMDkzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/630936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rth", "html_url": "https://github.com/rth", "followers_url": "https://api.github.com/users/rth/followers", "following_url": "https://api.github.com/users/rth/following{/other_user}", "gists_url": "https://api.github.com/users/rth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rth/subscriptions", "organizations_url": "https://api.github.com/users/rth/orgs", "repos_url": "https://api.github.com/users/rth/repos", "events_url": "https://api.github.com/users/rth/events{/privacy}", "received_events_url": "https://api.github.com/users/rth/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-21T21:29:13Z", "updated_at": "2017-08-21T21:29:13Z", "author_association": "MEMBER", "body": "@jnothman So far I am not able to reproduce the `test_hasher_alternate_sign` failure above. Tried to build scikit-learn 0.19.2 it in a Debian sid/unstable i386 VM, were scipy and numpy 1.2.1 were installed with apt-get. I consistently get the failure about `test_multi_output_classification_partial_fit_parallelism` (that was resolved since as far as I understand) but not the one about hashing.\r\n\r\n> could the assert_true(len(Xt.data) < len(X[0])) failure be because of floating point error (i.e. a small number was in Xt.data instead of 0, and so was not removed)?\r\n\r\nI don't think it's due to floating point error. So the test fails on [this line](https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/feature_extraction/tests/test_feature_hasher.py#L122), where the expected values are `len(Xt.data) == 4` and  `len(X[0])==5` (and I get those in the 32bit VM as well).\r\n\r\n This test assumes that the hash value of the tested tokens always produces the same results (in which case two of those produce a collision). And it looks like mumurhash3 [doesn't actually produce the same results in 64bit and 32bit](https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/utils/src/MurmurHash3.cpp#L5), which would explain why this test fail. This doesn't explain why I can't reproduce it though. \r\n\r\nSince this basically tests that in `FeatureHasher` we can disable the `alternate_sign` functionality (enabled by default) and it doesn't validate any new functionality, it might be OK to skip it on failure on 32 bit? What do you think? \r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323882161", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323882161", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323882161, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzg4MjE2MQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-21T23:58:40Z", "updated_at": "2017-08-21T23:58:40Z", "author_association": "MEMBER", "body": "Ha! I had no idea it worked differently on 64-bit and 32-bit... strange\nchoice of hash function :\\\n\nI'm okay with @skip_if_32bit here. Not quite satisfying as we don't\nunderstand what's going on...\n\nIs this testing a collision where the sign alternates and hence the value\nlands up at 0? Or just testing that values are stored in the same spot due\nto collision?\n\nOn 22 August 2017 at 07:29, Roman Yurchak <notifications@github.com> wrote:\n\n> @jnothman <https://github.com/jnothman> So far I am not able to reproduce\n> the test_hasher_alternate_sign failure above. Tried to build scikit-learn\n> 0.19.2 it in a Debian sid/unstable i386 VM, were scipy and numpy 1.2.1 were\n> installed with apt-get. I consistently get the failure about\n> test_multi_output_classification_partial_fit_parallelism (that was\n> resolved since as far as I understand) but not the one about hashing.\n>\n> could the assert_true(len(Xt.data) < len(X[0])) failure be because of\n> floating point error (i.e. a small number was in Xt.data instead of 0, and\n> so was not removed)?\n>\n> I don't think it's due to floating point error. So the test fails on this\n> line\n> <https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/feature_extraction/tests/test_feature_hasher.py#L122>,\n> where the expected values are len(Xt.data) == 4 and len(X[0])==5 (and I\n> get those in the 32bit VM as well).\n>\n> This test assumes that the hash value of the tested tokens always produces\n> the same results (in which case two of those produce a collision). And it\n> looks like mumurhash3 doesn't actually produce the same results in 64bit\n> and 32bit\n> <https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/utils/src/MurmurHash3.cpp#L5>,\n> which would explain why this test fail. This doesn't explain why I can't\n> reproduce it though.\n>\n> Since this basically tests that in FeatureHasher we can disable the\n> alternate_sign functionality (enabled by default) and it doesn't validate\n> any new functionality, it might be OK to skip it on failure on 32 bit? What\n> do you think?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323857844>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz6-5e4_hYRT3FldNHOz-N6WTl8wMFks5safasgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323953661", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323953661", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323953661, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzk1MzY2MQ==", "user": {"login": "rth", "id": 630936, "node_id": "MDQ6VXNlcjYzMDkzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/630936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rth", "html_url": "https://github.com/rth", "followers_url": "https://api.github.com/users/rth/followers", "following_url": "https://api.github.com/users/rth/following{/other_user}", "gists_url": "https://api.github.com/users/rth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rth/subscriptions", "organizations_url": "https://api.github.com/users/rth/orgs", "repos_url": "https://api.github.com/users/rth/repos", "events_url": "https://api.github.com/users/rth/events{/privacy}", "received_events_url": "https://api.github.com/users/rth/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-22T08:17:09Z", "updated_at": "2017-08-22T08:17:09Z", "author_association": "MEMBER", "body": "> Is this testing a collision where the sign alternates and hence the value\r\nlands up at 0? Or just testing that values are stored in the same spot due\r\nto collision?\r\n\r\nThe former I think. Despite that comment in murmurhash3, I'm not sure the hash value is actually platform dependent: after all this test passes on Appveyor 32bit and 64bit (and it works fine for me on i386) . But it does seem like a plausible suspect. \r\n\r\nWe could try to make this test more robust, by just taking a large number of tokens N, hashing them with a hash table size = 1 (or any small number), and checking that with `alternate_sign=False` the sum of hashed values is equal to `N`, and that it's strictly lower than `N` if  `alternate_sign=True` (since some +1 / -1 are bound to cancel out if N is large enough). That would be less dependent on the actual hashing implementation... \r\n\r\nStill, for a Debian release of 0.19.0 I'm not sure how this could work: can you apply some patches on the original .tar.gz to skip tests/modify code when needed? "}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323970336", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323970336", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323970336, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzk3MDMzNg==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-22T09:23:27Z", "updated_at": "2017-08-22T09:23:27Z", "author_association": "MEMBER", "body": "we're going to release a bug-fix release in any case. i had wondered if\nfinding and data close to 0 would help here.\n\nOn 22 Aug 2017 6:17 pm, \"Roman Yurchak\" <notifications@github.com> wrote:\n\n> Is this testing a collision where the sign alternates and hence the value\n> lands up at 0? Or just testing that values are stored in the same spot due\n> to collision?\n>\n> The former I think. Despite that comment in murmurhash3, I'm not sure the\n> hash value is actually platform dependent: after all this test passes on\n> Appveyor 32bit and 64bit (and it works fine for me on i386) . But it does\n> seem like a plausible suspect.\n>\n> We could try to make this test more robust, by just taking a large number\n> of tokens N, hashing them with a hash table size = 1 (or any small number),\n> and checking that with alternate_sign=False the sum of hashed values is\n> equal to N, and that it's strictly lower than N if alternate_sign=True\n> (since some +1 / -1 are bound to cancel out if N is large enough). That\n> would be less dependent on the actual hashing implementation...\n>\n> Still, for a Debian release of 0.19.0 I'm not sure how this could work:\n> can you apply some patches on the original .tar.gz to skip tests/modify\n> code when needed?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323953661>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz67eLrHeac5uXJQZxOWeIGhUxLyHjks5sao6IgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323975906", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323975906", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323975906, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzk3NTkwNg==", "user": {"login": "rth", "id": 630936, "node_id": "MDQ6VXNlcjYzMDkzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/630936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rth", "html_url": "https://github.com/rth", "followers_url": "https://api.github.com/users/rth/followers", "following_url": "https://api.github.com/users/rth/following{/other_user}", "gists_url": "https://api.github.com/users/rth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rth/subscriptions", "organizations_url": "https://api.github.com/users/rth/orgs", "repos_url": "https://api.github.com/users/rth/repos", "events_url": "https://api.github.com/users/rth/events{/privacy}", "received_events_url": "https://api.github.com/users/rth/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-22T09:44:49Z", "updated_at": "2017-08-22T09:44:49Z", "author_association": "MEMBER", "body": "On 22/08/17 12:23, Joel Nothman wrote:\n> we're going to release a bug-fix release in any case. i had wondered if\n> finding and data close to 0 would help here.\n\nRight, I don't think the value of zero matters. It could be a +1 - 1 = 0 \nor a +3 - 2 = 1 (instead of 3+2=5) as long the value in the hash bucket \nis lower than the sum of the absolute value of hashed terms, it is \nsufficient to determine whether `alternate_sign` is used or not during \nthe hash collisions, I think..\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/323989647", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323989647", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 323989647, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzk4OTY0Nw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-22T10:45:48Z", "updated_at": "2017-08-22T10:45:48Z", "author_association": "MEMBER", "body": "Yes, I think you're right. We're not calling eliminate_zeros anywhere.\n\nOn 22 August 2017 at 19:44, Roman Yurchak <notifications@github.com> wrote:\n\n> On 22/08/17 12:23, Joel Nothman wrote:\n> > we're going to release a bug-fix release in any case. i had wondered if\n> > finding and data close to 0 would help here.\n>\n> Right, I don't think the value of zero matters. It could be a +1 - 1 = 0\n> or a +3 - 2 = 1 (instead of 3+2=5) as long the value in the hash bucket\n> is lower than the sum of the absolute value of hashed terms, it is\n> sufficient to determine whether `alternate_sign` is used or not during\n> the hash collisions, I think..\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-323975906>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz65HpRe_Nz871uQCrz6W7U13qpUgFks5saqMTgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/326549512", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-326549512", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 326549512, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjU0OTUxMg==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-01T10:40:36Z", "updated_at": "2017-09-01T14:17:25Z", "author_association": "NONE", "body": "I can confirm that test_preserve_trustworthiness_approximately also failed on a 64 bit Mac.\r\n\r\nError message:\r\n\r\nAssertionError: 0.89166666666666661 not greater than 0.9\r\n\r\n2,4 GHz Intel Core i5\r\n8 GB 1600 MHz DDR3\r\n\r\nPython 3.6.1\r\nnumpy 1.13.1\r\nscikit-learn master branch, last commit hash d6a42354145c92cf88093cbcc70b13f639319c38\r\nnumpy was installed from pip, so this is with Accelerate.\r\nOSX version 10.12.4"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/326583491", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-326583491", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 326583491, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjU4MzQ5MQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-01T13:43:30Z", "updated_at": "2017-09-01T13:43:30Z", "author_association": "MEMBER", "body": "FYI, I can not reproduce on my OSX version with the same numpy version, Accelerate as well."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/327530865", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-327530865", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 327530865, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzUzMDg2NQ==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-06T15:59:55Z", "updated_at": "2017-09-06T15:59:55Z", "author_association": "MEMBER", "body": "I also tried on macOS (El Capitan) with Accelerate and could not reproduce either."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/327532834", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-327532834", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 327532834, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzUzMjgzNA==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-06T16:06:15Z", "updated_at": "2017-09-06T16:06:15Z", "author_association": "MEMBER", "body": "> That last failure is not confusing after a little investigation. It's a result of n_jobs=-1 being the same as n_jobs=1 on a machine with 1 core.\r\n\r\nWe probably need to raise a `SkipTest` if `multiprocessing.cpu_count() == 1`."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/327652993", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-327652993", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 327652993, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzY1Mjk5Mw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-07T01:03:52Z", "updated_at": "2017-09-26T00:30:36Z", "author_association": "MEMBER", "body": "The n_jobs=1 issue has been fixed.\r\n\r\nWe appear to have the following issues:\r\n* [x] `test_hasher_alternate_sign`: [mips](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=mips&ver=0.19.0-1&stamp=1502636171&raw=0), [powerpc](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=powerpc&ver=0.19.0-1&stamp=1502556098&raw=0), [hppa](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=hppa&ver=0.19.0-1&stamp=1502574224&raw=0), [ppc64](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=ppc64&ver=0.19.0-1&stamp=1502556652&raw=0), [s390x](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=s390x&ver=0.19.0-1&stamp=1502555384&raw=0), [sparc64](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=sparc64&ver=0.19.0-1&stamp=1502575352&raw=0) fixed in #9710\r\n* [x] `test_feature_importances` [arm64](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=arm64&ver=0.19.0-1&stamp=1502557273&raw=0),  [ppc64](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=ppc64&ver=0.19.0-1&stamp=1502556652&raw=0), [ppc64el](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=ppc64el&ver=0.19.0-1&stamp=1502557902&raw=0), [s390x](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=s390x&ver=0.19.0-1&stamp=1502555384&raw=0). PR in #9733\r\n* [x] `test_preserve_trustworthiness_approximately` PR in #9808\r\n* [ ] `test_forest.test_parallel` (not listed above): [mips](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=mips&ver=0.19.0-1&stamp=1502636171&raw=0). PR in ~#9734~ #9830\r\n* [x] `test_multi_output_classification_partial_fit_parallelism` (fixed in #9544)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/327653267", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-327653267", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 327653267, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzY1MzI2Nw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-07T01:05:37Z", "updated_at": "2017-09-07T01:05:37Z", "author_association": "MEMBER", "body": "The original issue with `test_preserve_trustworthiness_approximately` remains the most concerning, IMO."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328186976", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328186976", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328186976, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODE4Njk3Ng==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-08T18:58:05Z", "updated_at": "2017-09-08T18:58:05Z", "author_association": "MEMBER", "body": "Hm none of the links at ``test_preserve_trustworthyness_approximately`` above have failures for that, right? Or I'm blind."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328187472", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328187472", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328187472, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODE4NzQ3Mg==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-08T19:00:17Z", "updated_at": "2017-09-08T19:00:26Z", "author_association": "MEMBER", "body": "have we seen this before:\r\n```\r\nsklearn.metrics.tests.test_pairwise.test_pairwise_parallel(<function pairwise_distances at 0x81153b7b8>, <function wminkowski at 0x80f478e18>, {'w': array([ 1.,  2.,  3.,  4.]), 'p': 1}) ... E: Caught signal \u2018Terminated\u2019: terminating immediately\r\n```\r\nfrom [kfreebsd-amd64](https://buildd.debian.org/status/fetch.php?pkg=scikit-learn&arch=kfreebsd-amd64&ver=0.19.0-1%2Bb1&stamp=1504884720&raw=0)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328272865", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328272865", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328272865, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODI3Mjg2NQ==", "user": {"login": "rth", "id": 630936, "node_id": "MDQ6VXNlcjYzMDkzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/630936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rth", "html_url": "https://github.com/rth", "followers_url": "https://api.github.com/users/rth/followers", "following_url": "https://api.github.com/users/rth/following{/other_user}", "gists_url": "https://api.github.com/users/rth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rth/subscriptions", "organizations_url": "https://api.github.com/users/rth/orgs", "repos_url": "https://api.github.com/users/rth/repos", "events_url": "https://api.github.com/users/rth/events{/privacy}", "received_events_url": "https://api.github.com/users/rth/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-09T11:59:46Z", "updated_at": "2017-09-09T13:42:42Z", "author_association": "MEMBER", "body": "> have you tried finding a docker to reproduce somehow?  (from https://github.com/scikit-learn/scikit-learn/pull/9710)\r\n\r\n@jnothman I just tried, but I'm not able to run e.g. a ppc64 Docker image on my amd64 system. With the `Dockerfile` below I get an error,\r\n```\r\nstandard_init_linux.go:178: exec user process caused \"exec format error\"\r\n```\r\nat the first `apt-get` suggesting there is [a platform conflict](https://stackoverflow.com/a/42886112/1791279). Using `FROM debian` as the first line this works fine for amd64. So unless I missed something it doesn't look like this could be reproducible in Docker. Will need to find a VM image instead... \r\n\r\n**Dockerfile**\r\n```\r\nFROM ppc64le/debian:unstable-20170907\r\n\r\nRUN apt-get update && apt-get install -y gcc g++ git make wget bzip2\r\n\r\nRUN wget http://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh && \\\r\n    chmod +x miniconda.sh && \\\r\n    ./miniconda.sh -b\r\n\r\nENV PATH \"/root/miniconda3/bin/:${PATH}\"\r\n\r\nRUN conda create -n sklearn-env numpy scipy cython pytest nose docutils python=3.6\r\n\r\n# switch from dash to bash to make \"source activate\" work\r\nRUN echo \"dash dash/sh boolean false\" | debconf-set-selections && \\\r\n    DEBIAN_FRONTEND=noninteractive dpkg-reconfigure dash \r\n\r\nRUN source activate sklearn-env && \\\r\n    git clone https://github.com/scikit-learn/scikit-learn.git && \\\r\n    cd scikit-learn && git checkout 0.19.0\r\n\r\nRUN cd scikit-learn && source activate sklearn-env && \\\r\n    make\r\n```\r\nbuilt with\r\n```\r\ndocker build -t sklearn-019-debian-ppc64 .\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328278084", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328278084", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328278084, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODI3ODA4NA==", "user": {"login": "rth", "id": 630936, "node_id": "MDQ6VXNlcjYzMDkzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/630936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rth", "html_url": "https://github.com/rth", "followers_url": "https://api.github.com/users/rth/followers", "following_url": "https://api.github.com/users/rth/following{/other_user}", "gists_url": "https://api.github.com/users/rth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rth/subscriptions", "organizations_url": "https://api.github.com/users/rth/orgs", "repos_url": "https://api.github.com/users/rth/repos", "events_url": "https://api.github.com/users/rth/events{/privacy}", "received_events_url": "https://api.github.com/users/rth/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-09T13:42:33Z", "updated_at": "2017-09-09T13:42:33Z", "author_association": "MEMBER", "body": "Actually, the above Docker setup with conda wouldn't have worked anyway for other platforms, it should have been, something along the lines of, I think,\r\n```\r\nFROM ppc64le/debian:unstable-20170907\r\n\r\nRUN apt-get update && apt-get install -y build-essential git make\r\n\r\nRUN apt-get install -y python3 python3-scipy python3-numpy python3-setuptools python3-pkg-resources python3-pip\r\n\r\nRUN git clone https://github.com/scikit-learn/scikit-learn.git && \\\r\n    cd scikit-learn && git checkout 0.19.0\r\n\r\nRUN pip3 install Cython nose pytest\r\n\r\nRUN cd scikit-learn && python3 setup.py develop\r\n\r\nRUN pytest -sv scikit-learn/sklearn\r\n```\r\nbut this still wouldn't help unless someone has access to non amd64 platforms and is able to run it there, using the [appropriate Docker Debian image](https://github.com/docker-library/official-images#architectures-other-than-amd64) ..."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328309056", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328309056", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328309056, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODMwOTA1Ng==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-09T23:16:22Z", "updated_at": "2017-09-09T23:16:22Z", "author_association": "MEMBER", "body": "@rth, okay. Thanks for trying.\r\n\r\n> Hm none of the links at test_preserve_trustworthyness_approximately above have failures for that, right? Or I'm blind.\r\n\r\nNo, I must have sorted these things incorrectly. @yarikoptic, I can't find the `test_preserve_trustworthiness_approximately` failure under 0.19.0-1 logs."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328381947", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328381947", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328381947, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODM4MTk0Nw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-10T23:45:36Z", "updated_at": "2017-09-10T23:45:36Z", "author_association": "MEMBER", "body": "@yarikoptic, any suggestion of how we can reproduce these test environments?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328541359", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328541359", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328541359, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODU0MTM1OQ==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-11T14:11:34Z", "updated_at": "2017-09-11T14:11:34Z", "author_association": "MEMBER", "body": "@jnothman any ideas about the ``test_pairwise_parallel`` failure?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328667268", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328667268", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328667268, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODY2NzI2OA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-11T21:42:39Z", "updated_at": "2017-09-11T21:42:39Z", "author_association": "MEMBER", "body": "test_pairwise_parallel I had missed, but I also suspect it's something we'll find impossible to debug... Terminated after 150 minutes of inactivity during parallel execution of a simple function"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328698075", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328698075", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328698075, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODY5ODA3NQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T00:43:42Z", "updated_at": "2017-09-12T00:43:42Z", "author_association": "MEMBER", "body": "I'm guessing `test_forest.test_parallel` has failed because of precision errors due to partitioning the ensemble summation across jobs. I'll submit a PR to reduce precision of the test.\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328700955", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328700955", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328700955, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODcwMDk1NQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T01:04:49Z", "updated_at": "2017-09-12T01:04:49Z", "author_association": "MEMBER", "body": "@priidukull is your test failure reproducible? Could you help us debug? Which `init` and `method` combination is the first to fail?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328739491", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328739491", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328739491, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODczOTQ5MQ==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T05:21:52Z", "updated_at": "2017-09-12T05:21:52Z", "author_association": "NONE", "body": "```\r\nmethod = 'barnes_hut'\r\ninit = 'pca'\r\n```\r\n\r\nWhat I've done is to reduce the size of X... with something like:\r\n\r\n`X = random_state.randn(3, n_components).astype(np.float32)`\r\n\r\nAnd then I debugged through the code on both of my environments and the best I could tell was that the divergence happened in C-code. But I could not tell where exactly with full certainty because it is tough to debug.\r\n\r\n```\r\ndef test_preserve_trustworthiness_approximately():\r\n    # Nearest neighbors should be preserved approximately.\r\n    random_state = check_random_state(0)\r\n    n_components = 2\r\n    method = 'barnes_hut'\r\n    X = random_state.randn(50, n_components).astype(np.float32)\r\n    init = 'pca'\r\n    tsne = TSNE(n_components=n_components, init=init, random_state=0, method=method)\r\n    X_embedded = tsne.fit_transform(X)\r\n    t = trustworthiness(X, X_embedded, n_neighbors=1)\r\n    assert_greater(t, 0.9)\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328745292", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328745292", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328745292, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODc0NTI5Mg==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T05:55:55Z", "updated_at": "2017-09-12T05:55:55Z", "author_association": "MEMBER", "body": "What do you mean by the divergence? What were you comparing it against? The different methods and inits produce different trustworthiness scores on all platforms."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328763840", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328763840", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328763840, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODc2Mzg0MA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T07:23:51Z", "updated_at": "2017-09-12T07:23:51Z", "author_association": "MEMBER", "body": "@priidukull, could you please provide the output of:\r\n\r\n```\r\nimport numpy as np\r\nfrom sklearn.manifold.t_sne import TSNE, trustworthiness\r\nfrom sklearn.utils import check_random_state\r\nrandom_state = check_random_state(0)\r\nX = random_state.randn(50, 2).astype(np.float32)\r\ntsne = TSNE(n_components=2, init='pca', random_state=0,\r\n            method='barnes_hut', verbose=10)\r\nX_embedded = tsne.fit_transform(X)\r\nt = trustworthiness(X, X_embedded, n_neighbors=1)\r\nassert t > 0.9\r\n```\r\n\r\nand of:\r\n```\r\nimport numpy as np\r\nfrom sklearn.manifold.t_sne import TSNE, trustworthiness\r\nfrom sklearn.utils import check_random_state\r\nrandom_state = check_random_state(0)\r\nX = random_state.randn(50, 2).astype(np.float32)\r\nfor n_iter in range(250, 1001, 25):\r\n    tsne = TSNE(n_components=2, init='pca', random_state=0,\r\n                method='barnes_hut', n_iter=n_iter)\r\n    X_embedded = tsne.fit_transform(X)\r\n    t = trustworthiness(X, X_embedded, n_neighbors=1)\r\n    print(n_iter, t)\r\n```\r\nThanks.\r\n\r\n\r\nFor reference, I have:\r\n```\r\n[t-SNE] Computing 49 nearest neighbors...\r\n[t-SNE] Indexed 50 samples in 0.000s...\r\n[t-SNE] Computed neighbors for 50 samples in 0.001s...\r\n[t-SNE] Computed conditional probabilities for sample 50 / 50\r\n[t-SNE] Mean sigma: 1.228846\r\n[t-SNE] Computed conditional probabilities in 0.002s\r\n[t-SNE] Iteration 50: error = 50.3999405, gradient norm = 0.4808916 (50 iterations in 0.023s)\r\n[t-SNE] Iteration 100: error = 51.3690414, gradient norm = 0.4514403 (50 iterations in 0.022s)\r\n[t-SNE] Iteration 150: error = 49.3410950, gradient norm = 0.5894858 (50 iterations in 0.023s)\r\n[t-SNE] Iteration 200: error = 47.4731636, gradient norm = 0.5425554 (50 iterations in 0.025s)\r\n[t-SNE] Iteration 250: error = 49.5253944, gradient norm = 0.4418719 (50 iterations in 0.028s)\r\n[t-SNE] KL divergence after 250 iterations with early exaggeration: 49.525394\r\n[t-SNE] Iteration 300: error = 0.9909145, gradient norm = 0.0019572 (50 iterations in 0.027s)\r\n[t-SNE] Iteration 350: error = 0.7841685, gradient norm = 0.0009371 (50 iterations in 0.024s)\r\n[t-SNE] Iteration 400: error = 0.6556321, gradient norm = 0.0009947 (50 iterations in 0.029s)\r\n[t-SNE] Iteration 450: error = 0.4789825, gradient norm = 0.0010353 (50 iterations in 0.022s)\r\n[t-SNE] Iteration 500: error = 0.3935374, gradient norm = 0.0004297 (50 iterations in 0.028s)\r\n[t-SNE] Iteration 550: error = 0.3284135, gradient norm = 0.0005897 (50 iterations in 0.024s)\r\n[t-SNE] Iteration 600: error = 0.2722271, gradient norm = 0.0001759 (50 iterations in 0.027s)\r\n[t-SNE] Iteration 650: error = 0.2614944, gradient norm = 0.0001755 (50 iterations in 0.023s)\r\n[t-SNE] Iteration 700: error = 0.2059281, gradient norm = 0.0004730 (50 iterations in 0.029s)\r\n[t-SNE] Iteration 750: error = 0.1852958, gradient norm = 0.0001332 (50 iterations in 0.038s)\r\n[t-SNE] Iteration 800: error = 0.1842453, gradient norm = 0.0000304 (50 iterations in 0.037s)\r\n[t-SNE] Iteration 850: error = 0.1831711, gradient norm = 0.0000466 (50 iterations in 0.028s)\r\n[t-SNE] Iteration 900: error = 0.1797995, gradient norm = 0.0000830 (50 iterations in 0.024s)\r\n[t-SNE] Iteration 950: error = 0.1796996, gradient norm = 0.0000333 (50 iterations in 0.026s)\r\n[t-SNE] Iteration 1000: error = 0.1796487, gradient norm = 0.0000288 (50 iterations in 0.025s)\r\n[t-SNE] Error after 1000 iterations: 0.179649\r\n```\r\nand\r\n```\r\n250 0.518333333333\r\n275 0.710416666667\r\n300 0.695833333333\r\n325 0.74625\r\n350 0.78125\r\n375 0.83625\r\n400 0.83875\r\n425 0.915416666667\r\n450 0.917916666667\r\n475 0.89875\r\n500 0.951666666667\r\n525 0.949583333333\r\n550 0.950416666667\r\n575 0.955\r\n600 0.96875\r\n625 0.9775\r\n650 0.957083333333\r\n675 0.95875\r\n700 0.96875\r\n725 0.972916666667\r\n750 0.975\r\n775 0.978333333333\r\n800 0.98125\r\n825 0.98125\r\n850 0.981666666667\r\n875 0.98125\r\n900 0.97875\r\n925 0.980833333333\r\n950 0.980416666667\r\n975 0.980416666667\r\n1000 0.975833333333\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328904021", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328904021", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328904021, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODkwNDAyMQ==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T16:16:11Z", "updated_at": "2017-09-12T16:17:07Z", "author_association": "NONE", "body": "```\r\nI: Seeding RNGs with 965003854\r\n[t-SNE] Computing 49 nearest neighbors...\r\n[t-SNE] Indexed 50 samples in 0.006s...\r\n[t-SNE] Computed neighbors for 50 samples in 0.004s...\r\n[t-SNE] Computed conditional probabilities for sample 50 / 50\r\n[t-SNE] Mean sigma: 1.228846\r\n[t-SNE] Computed conditional probabilities in 0.007s\r\n[t-SNE] Iteration 50: error = 48.4517632, gradient norm = 0.4771377 (50 iterations in 0.037s)\r\n[t-SNE] Iteration 100: error = 52.6823158, gradient norm = 0.6178778 (50 iterations in 0.033s)\r\n[t-SNE] Iteration 150: error = 54.6605072, gradient norm = 0.4823068 (50 iterations in 0.051s)\r\n[t-SNE] Iteration 200: error = 51.8806496, gradient norm = 0.5132505 (50 iterations in 0.072s)\r\n[t-SNE] Iteration 250: error = 46.6646004, gradient norm = 0.5804820 (50 iterations in 0.071s)\r\n[t-SNE] KL divergence after 250 iterations with early exaggeration: 46.664600\r\n[t-SNE] Iteration 300: error = 0.8332810, gradient norm = 0.0018833 (50 iterations in 0.106s)\r\n[t-SNE] Iteration 350: error = 0.6711912, gradient norm = 0.0015837 (50 iterations in 0.048s)\r\n[t-SNE] Iteration 400: error = 0.5546064, gradient norm = 0.0013941 (50 iterations in 0.041s)\r\n[t-SNE] Iteration 450: error = 0.4738233, gradient norm = 0.0007648 (50 iterations in 0.033s)\r\n[t-SNE] Iteration 500: error = 0.4517629, gradient norm = 0.0002036 (50 iterations in 0.040s)\r\n[t-SNE] Iteration 550: error = 0.4201813, gradient norm = 0.0004996 (50 iterations in 0.050s)\r\n[t-SNE] Iteration 600: error = 0.4113496, gradient norm = 0.0001206 (50 iterations in 0.034s)\r\n[t-SNE] Iteration 650: error = 0.4101939, gradient norm = 0.0000771 (50 iterations in 0.036s)\r\n[t-SNE] Iteration 700: error = 0.4098324, gradient norm = 0.0000733 (50 iterations in 0.031s)\r\n[t-SNE] Iteration 750: error = 0.4081649, gradient norm = 0.0001148 (50 iterations in 0.036s)\r\n[t-SNE] Iteration 800: error = 0.4059633, gradient norm = 0.0001579 (50 iterations in 0.045s)\r\n[t-SNE] Iteration 850: error = 0.4020343, gradient norm = 0.0004064 (50 iterations in 0.042s)\r\n[t-SNE] Iteration 900: error = 0.9964069, gradient norm = 0.0819057 (50 iterations in 0.044s)\r\n[t-SNE] Iteration 950: error = 0.6955136, gradient norm = 0.0015677 (50 iterations in 0.049s)\r\n[t-SNE] Iteration 1000: error = 0.4993443, gradient norm = 0.0011854 (50 iterations in 0.054s)\r\n[t-SNE] Error after 1000 iterations: 0.499344\r\n```\r\n\r\n```\r\nI: Seeding RNGs with 1697231718\r\n250 0.515\r\n275 0.619166666667\r\n300 0.804166666667\r\n325 0.823333333333\r\n350 0.808333333333\r\n375 0.875833333333\r\n400 0.910416666667\r\n425 0.902083333333\r\n450 0.933333333333\r\n475 0.948333333333\r\n500 0.942916666667\r\n525 0.91875\r\n550 0.950833333333\r\n575 0.95375\r\n600 0.940833333333\r\n625 0.942916666667\r\n650 0.941666666667\r\n675 0.939583333333\r\n700 0.94875\r\n725 0.952083333333\r\n750 0.954583333333\r\n775 0.950833333333\r\n800 0.950416666667\r\n825 0.952083333333\r\n850 0.954166666667\r\n875 0.955\r\n900 0.628333333333\r\n925 0.753333333333\r\n950 0.798333333333\r\n975 0.8575\r\n1000 0.891666666667\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/328993587", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-328993587", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 328993587, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODk5MzU4Nw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T21:45:44Z", "updated_at": "2017-09-12T21:45:44Z", "author_association": "MEMBER", "body": "So the error is reducing much more slowly...\r\n\r\n@priidukull, What did you mean by telling that the divergence happened in C code? Do you have another system you're comparing against?\r\n\r\n@tommoral, if we continue to not be able to reproduce this bug, what kind of debugging output do you think would help us understand what's going wrong? Or what kind of more low-level unit tests might help us hone in on it?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329066826", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329066826", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329066826, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTA2NjgyNg==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T05:55:39Z", "updated_at": "2017-09-13T05:55:39Z", "author_association": "NONE", "body": "I was putting print statements into the code and comparing the values of the variable X during different stages of execution... one environment my Mac desktop and another one that I had set up with docker running on my Mac."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329068308", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329068308", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329068308, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTA2ODMwOA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T06:05:31Z", "updated_at": "2017-09-13T06:05:31Z", "author_association": "MEMBER", "body": "Great. It's extremely helpful to have someone reporting the issue who is\nalso capable and willing to debug it. If only I could reproduce it on my\nmac. I've wasted lots of time failing to set up an appropriate debian\nvirtual machine.\n\nDo you recall which C function was responsible for the divergence? Is the\ninput to TSNE._tsne identical on both platforms?\n\nI've just realised we have a higher level of verbosity available to us.\nPerhaps comparing outputs at verbose=20 will be more informative. Might as\nwell limit n_iter to 250, as we know divergence precedes that.\n\nOn 13 September 2017 at 15:55, priidukull <notifications@github.com> wrote:\n\n> I was putting print statements into the code and comparing the values of\n> the variable X during different stages of execution... one environment my\n> Mac desktop and another one that I had set up with docker running on my Mac.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329066826>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz6547-Q5h6RwXoZP-yphgaBTOiMljks5sh25dgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329068385", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329068385", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329068385, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTA2ODM4NQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T06:06:03Z", "updated_at": "2017-09-13T06:06:03Z", "author_association": "MEMBER", "body": "Let's use verbose=100 just to be sure (there are some things reported at\nverbose=20)\n\nOn 13 September 2017 at 16:05, Joel Nothman <joel.nothman@gmail.com> wrote:\n\n> Great. It's extremely helpful to have someone reporting the issue who is\n> also capable and willing to debug it. If only I could reproduce it on my\n> mac. I've wasted lots of time failing to set up an appropriate debian\n> virtual machine.\n>\n> Do you recall which C function was responsible for the divergence? Is the\n> input to TSNE._tsne identical on both platforms?\n>\n> I've just realised we have a higher level of verbosity available to us.\n> Perhaps comparing outputs at verbose=20 will be more informative. Might as\n> well limit n_iter to 250, as we know divergence precedes that.\n>\n> On 13 September 2017 at 15:55, priidukull <notifications@github.com>\n> wrote:\n>\n>> I was putting print statements into the code and comparing the values of\n>> the variable X during different stages of execution... one environment my\n>> Mac desktop and another one that I had set up with docker running on my Mac.\n>>\n>> \u2014\n>> You are receiving this because you were mentioned.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329066826>,\n>> or mute the thread\n>> <https://github.com/notifications/unsubscribe-auth/AAEz6547-Q5h6RwXoZP-yphgaBTOiMljks5sh25dgaJpZM4OaXom>\n>> .\n>>\n>\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329070171", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329070171", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329070171, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTA3MDE3MQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T06:18:09Z", "updated_at": "2017-09-13T06:18:38Z", "author_association": "MEMBER", "body": "Okay, I've just noticed a likely bug by reviewing the code (with an eye for a certain issue I previously found in tsne: uninitialised memory), which could be platform dependent or otherwise hard to reproduce:\r\n\r\n* `neg_f` is [defined as (n_samples * n_dimensions)](https://github.com/scikit-learn/scikit-learn/blob/0.19.0/sklearn/manifold/_barnes_hut_tsne.pyx#L70)\r\n* `neg_f` is [populated](https://github.com/scikit-learn/scikit-learn/blob/0.19.0/sklearn/manifold/_barnes_hut_tsne.pyx#L205) for the samples in range [start..stop](https://github.com/scikit-learn/scikit-learn/blob/0.19.0/sklearn/manifold/_barnes_hut_tsne.pyx#L177)\r\n* `neg_f` is accessed for gradient computation in range [start..n_samples](https://github.com/scikit-learn/scikit-learn/blob/0.19.0/sklearn/manifold/_barnes_hut_tsne.pyx#L91)\r\n* elements (stop+1)..n_samples may not be initialised\r\n\r\n@priidukull, are you able to recompile the cython using calloc instead of malloc?\r\n* import calloc along with malloc at the top of `_barnes_hut_tsne.pyx`\r\n* replace `cdef float* neg_f = <float*> malloc(sizeof(float) * n_samples * n_dimensions)` with `cdef float* neg_f = <float*> calloc(n_samples * n_dimensions, sizeof(float))`\r\n\r\nDoes this fix the discrepancy?\r\n\r\nPing @tommoral, @ogrisel "}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329077829", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329077829", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329077829, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTA3NzgyOQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T07:02:50Z", "updated_at": "2017-09-13T07:02:50Z", "author_association": "MEMBER", "body": "This may not be our issue: I'm not managing to get the assertion to fail by merely populating neg_f with junk"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329167090", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329167090", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329167090, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTE2NzA5MA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T13:26:16Z", "updated_at": "2017-09-13T13:26:16Z", "author_association": "MEMBER", "body": "Unfortunately, that's not the issue here (although it should be fixed):\ncompute_gradient is only ever called with stop=-1.\n\nOn 13 September 2017 at 16:05, Joel Nothman <joel.nothman@gmail.com> wrote:\n\n> Let's use verbose=100 just to be sure (there are some things reported at\n> verbose=20)\n>\n> On 13 September 2017 at 16:05, Joel Nothman <joel.nothman@gmail.com>\n> wrote:\n>\n>> Great. It's extremely helpful to have someone reporting the issue who is\n>> also capable and willing to debug it. If only I could reproduce it on my\n>> mac. I've wasted lots of time failing to set up an appropriate debian\n>> virtual machine.\n>>\n>> Do you recall which C function was responsible for the divergence? Is the\n>> input to TSNE._tsne identical on both platforms?\n>>\n>> I've just realised we have a higher level of verbosity available to us.\n>> Perhaps comparing outputs at verbose=20 will be more informative. Might as\n>> well limit n_iter to 250, as we know divergence precedes that.\n>>\n>> On 13 September 2017 at 15:55, priidukull <notifications@github.com>\n>> wrote:\n>>\n>>> I was putting print statements into the code and comparing the values of\n>>> the variable X during different stages of execution... one environment my\n>>> Mac desktop and another one that I had set up with docker running on my Mac.\n>>>\n>>> \u2014\n>>> You are receiving this because you were mentioned.\n>>> Reply to this email directly, view it on GitHub\n>>> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329066826>,\n>>> or mute the thread\n>>> <https://github.com/notifications/unsubscribe-auth/AAEz6547-Q5h6RwXoZP-yphgaBTOiMljks5sh25dgaJpZM4OaXom>\n>>> .\n>>>\n>>\n>>\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329325909", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329325909", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329325909, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTMyNTkwOQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T23:32:15Z", "updated_at": "2017-09-13T23:32:15Z", "author_association": "MEMBER", "body": "@priidukull your verbose=20 output would be welcome. I'm otherwise at a loss."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329384692", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329384692", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329384692, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTM4NDY5Mg==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-14T06:18:45Z", "updated_at": "2017-09-14T06:18:45Z", "author_association": "NONE", "body": "Where can I set verbose=20?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329384882", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329384882", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329384882, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTM4NDg4Mg==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-14T06:19:55Z", "updated_at": "2017-09-14T06:20:05Z", "author_association": "MEMBER", "body": "Sorry\r\n\r\n```python\r\nimport numpy as np\r\nfrom sklearn.manifold.t_sne import TSNE, trustworthiness\r\nfrom sklearn.utils import check_random_state\r\nrandom_state = check_random_state(0)\r\nX = random_state.randn(50, 2).astype(np.float32)\r\ntsne = TSNE(n_components=2, init='pca', random_state=0,\r\n            method='barnes_hut', verbose=10, n_iter=250)\r\nX_embedded = tsne.fit_transform(X)\r\nt = trustworthiness(X, X_embedded, n_neighbors=1)\r\nassert t > 0.9\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329387495", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329387495", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329387495, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTM4NzQ5NQ==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-14T06:35:38Z", "updated_at": "2017-09-14T06:35:38Z", "author_association": "NONE", "body": "Ran: \r\n\r\n```\r\ndef test_preserve_trustworthiness_approximately():\r\n    import numpy as np\r\n    from sklearn.manifold.t_sne import TSNE, trustworthiness\r\n    from sklearn.utils import check_random_state\r\n    random_state = check_random_state(0)\r\n    X = random_state.randn(50, 2).astype(np.float32)\r\n    n_iter = 250\r\n    tsne = TSNE(n_components=2, init='pca', random_state=0,\r\n                method='barnes_hut', verbose=20, n_iter=n_iter)\r\n    X_embedded = tsne.fit_transform(X)\r\n    t = trustworthiness(X, X_embedded, n_neighbors=1)\r\n    print(n_iter, t)\r\n\r\n```\r\n\r\nOutput: https://gist.github.com/priidukull/1453adb7cf2bca2093b2dd9d6646f64e"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329406451", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329406451", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329406451, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTQwNjQ1MQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-14T08:06:04Z", "updated_at": "2017-09-14T08:06:04Z", "author_association": "MEMBER", "body": "@priidukull thanks for that. But the verbose output you have sent had substantial discrepancy with what it should, and not just in the numbers. Are you certain that the library is correctly compiled? Do you get this error when running the test on the wheel version of scikit-learn 0.19?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329412810", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329412810", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329412810, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTQxMjgxMA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-14T08:32:29Z", "updated_at": "2017-09-14T08:32:29Z", "author_association": "MEMBER", "body": "Or maybe that comment was wrong and I was just confused because your output\nisn't complete: the beginning is cut off\n\nOn 14 Sep 2017 4:35 pm, \"priidukull\" <notifications@github.com> wrote:\n\n> Ran:\n>\n> def test_preserve_trustworthiness_approximately():\n>     import numpy as np\n>     from sklearn.manifold.t_sne import TSNE, trustworthiness\n>     from sklearn.utils import check_random_state\n>     random_state = check_random_state(0)\n>     X = random_state.randn(50, 2).astype(np.float32)\n>     n_iter = 250\n>     tsne = TSNE(n_components=2, init='pca', random_state=0,\n>                 method='barnes_hut', verbose=20, n_iter=n_iter)\n>     X_embedded = tsne.fit_transform(X)\n>     t = trustworthiness(X, X_embedded, n_neighbors=1)\n>     print(n_iter, t)\n>\n>\n> Output: https://gist.github.com/priidukull/1453adb7cf2bca2093b2dd9d6646f6\n> 4e\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329387495>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz60XYRRel6OV_ndR-HVrMdFYzs3oPks5siMk8gaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329419033", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329419033", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329419033, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTQxOTAzMw==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-14T08:57:58Z", "updated_at": "2017-09-14T08:57:58Z", "author_association": "NONE", "body": "Uups, I missed that. The output is more than 1Mb in size, so I did not find a pastebin for that. Can run the test again. How do you suggest that I send the output to you?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329424759", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329424759", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329424759, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTQyNDc1OQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-14T09:20:37Z", "updated_at": "2017-09-14T09:20:37Z", "author_association": "MEMBER", "body": "you can email my personal address for the, thanks\n\nOn 14 Sep 2017 6:58 pm, \"priidukull\" <notifications@github.com> wrote:\n\n> Uups, I missed that. The output is more than 1Mb in size, so I did not\n> find a pastebin for that. Can run the test again. How do you suggest that I\n> send the output to you?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329419033>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz65k_b9cjArMLyXwbcm8vOUBL13GRks5siOqXgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329424828", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329424828", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329424828, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTQyNDgyOA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-14T09:20:52Z", "updated_at": "2017-09-14T09:20:52Z", "author_association": "MEMBER", "body": "or zip it\n\nOn 14 Sep 2017 6:58 pm, \"priidukull\" <notifications@github.com> wrote:\n\n> Uups, I missed that. The output is more than 1Mb in size, so I did not\n> find a pastebin for that. Can run the test again. How do you suggest that I\n> send the output to you?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329419033>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz65k_b9cjArMLyXwbcm8vOUBL13GRks5siOqXgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329780334", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329780334", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329780334, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTc4MDMzNA==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-15T13:19:26Z", "updated_at": "2017-09-15T13:19:26Z", "author_association": "NONE", "body": "\r\n[output.txt.zip](https://github.com/scikit-learn/scikit-learn/files/1306459/output.txt.zip)\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329780579", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329780579", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329780579, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTc4MDU3OQ==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-15T13:20:23Z", "updated_at": "2017-09-15T13:20:23Z", "author_association": "NONE", "body": "Test code:\r\n\r\n```\r\ndef test_preserve_trustworthiness_approximately():\r\n    import numpy as np\r\n    from sklearn.manifold.t_sne import TSNE, trustworthiness\r\n    from sklearn.utils import check_random_state\r\n    random_state = check_random_state(0)\r\n    X = random_state.randn(50, 2).astype(np.float32)\r\n    n_iter = 250\r\n    tsne = TSNE(n_components=2, init='pca', random_state=0,\r\n                method='barnes_hut', verbose=20, n_iter=n_iter)\r\n    X_embedded = tsne.fit_transform(X)\r\n    t = trustworthiness(X, X_embedded, n_neighbors=1)\r\n    print(n_iter, t)\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329808258", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329808258", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329808258, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTgwODI1OA==", "user": {"login": "tomMoral", "id": 3321081, "node_id": "MDQ6VXNlcjMzMjEwODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3321081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomMoral", "html_url": "https://github.com/tomMoral", "followers_url": "https://api.github.com/users/tomMoral/followers", "following_url": "https://api.github.com/users/tomMoral/following{/other_user}", "gists_url": "https://api.github.com/users/tomMoral/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomMoral/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomMoral/subscriptions", "organizations_url": "https://api.github.com/users/tomMoral/orgs", "repos_url": "https://api.github.com/users/tomMoral/repos", "events_url": "https://api.github.com/users/tomMoral/events{/privacy}", "received_events_url": "https://api.github.com/users/tomMoral/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-15T15:01:45Z", "updated_at": "2017-09-15T15:01:45Z", "author_association": "CONTRIBUTOR", "body": "@priidukull Thanks for the log. I tried to read it but there is only the logs after iteration 200 (\"QuadTree\" is way too verbose and I think we lose the beginning as the log growth too big).\r\nI created a branch with better debugging logs here on top of @jnothman nonstop branch : https://github.com/tomMoral/scikit-learn/tree/nonstop . Could you please check it out and re-run the same code?\r\n\r\nIt prints the squared norm of the gradient and the error at each iteration so we can see which part of the code is diverging.\r\nHere is the output for the first 100 iterations (it is still too big for the gist)\r\n[output.text](https://gist.github.com/tomMoral/b1e19e3f5e9578e082b25155c299c6d1)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/329915555", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-329915555", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 329915555, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTkxNTU1NQ==", "user": {"login": "priidukull", "id": 4921620, "node_id": "MDQ6VXNlcjQ5MjE2MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4921620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priidukull", "html_url": "https://github.com/priidukull", "followers_url": "https://api.github.com/users/priidukull/followers", "following_url": "https://api.github.com/users/priidukull/following{/other_user}", "gists_url": "https://api.github.com/users/priidukull/gists{/gist_id}", "starred_url": "https://api.github.com/users/priidukull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priidukull/subscriptions", "organizations_url": "https://api.github.com/users/priidukull/orgs", "repos_url": "https://api.github.com/users/priidukull/repos", "events_url": "https://api.github.com/users/priidukull/events{/privacy}", "received_events_url": "https://api.github.com/users/priidukull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-15T22:07:46Z", "updated_at": "2017-09-15T22:07:46Z", "author_association": "NONE", "body": "Test code:\r\n\r\n```\r\ndef test_preserve_trustworthiness_approximately():\r\n    import numpy as np\r\n    from sklearn.manifold.t_sne import TSNE, trustworthiness\r\n    from sklearn.utils import check_random_state\r\n    random_state = check_random_state(0)\r\n    X = random_state.randn(50, 2).astype(np.float32)\r\n    n_iter = 250\r\n    tsne = TSNE(n_components=2, init='pca', random_state=0,\r\n                method='barnes_hut', verbose=20, n_iter=n_iter)\r\n    X_embedded = tsne.fit_transform(X)\r\n    t = trustworthiness(X, X_embedded, n_neighbors=1)\r\n    from builtins import print\r\n    print(n_iter, t)\r\n\r\n```\r\n\r\n[output2.txt.zip](https://github.com/scikit-learn/scikit-learn/files/1307832/output2.txt.zip)\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/330057733", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-330057733", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 330057733, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDA1NzczMw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-17T15:46:22Z", "updated_at": "2017-09-17T15:47:36Z", "author_association": "MEMBER", "body": "Thanks again. Still all we can compare by is error, and not, say, gradients:\r\n\r\nThe first 20:\r\n```\r\n       @jnothman's                      @priidukull's\r\n1  [t-SNE] Computed error=30.6823    [t-SNE] Computed error=30.6823\r\n2  [t-SNE] Computed error=37.7064    [t-SNE] Computed error=37.7064\r\n3  [t-SNE] Computed error=38.4978    [t-SNE] Computed error=38.4978\r\n4  [t-SNE] Computed error=40.5980    [t-SNE] Computed error=40.5980\r\n5  [t-SNE] Computed error=41.7238    [t-SNE] Computed error=41.7239\r\n6  [t-SNE] Computed error=42.2833    [t-SNE] Computed error=42.2837\r\n7  [t-SNE] Computed error=46.8638    [t-SNE] Computed error=46.8647\r\n8  [t-SNE] Computed error=48.3388    [t-SNE] Computed error=48.3393\r\n9  [t-SNE] Computed error=50.7234    [t-SNE] Computed error=50.7251\r\n10 [t-SNE] Computed error=46.2566    [t-SNE] Computed error=46.2448\r\n11 [t-SNE] Computed error=43.9031    [t-SNE] Computed error=43.8736\r\n12 [t-SNE] Computed error=44.5618    [t-SNE] Computed error=44.4002\r\n13 [t-SNE] Computed error=44.1744    [t-SNE] Computed error=43.7296\r\n14 [t-SNE] Computed error=43.2287    [t-SNE] Computed error=42.8211\r\n15 [t-SNE] Computed error=47.0822    [t-SNE] Computed error=48.7362\r\n16 [t-SNE] Computed error=48.5537    [t-SNE] Computed error=48.3436\r\n17 [t-SNE] Computed error=48.3894    [t-SNE] Computed error=47.8601\r\n18 [t-SNE] Computed error=47.2820    [t-SNE] Computed error=47.6722\r\n19 [t-SNE] Computed error=48.2992    [t-SNE] Computed error=49.3187\r\n20 [t-SNE] Computed error=47.6544    [t-SNE] Computed error=50.4518\r\n```\r\n\r\nWe see that the first error is a small numerical imprecision at line 5, but that this quite quickly blows out.\r\n\r\nI'm not sure that this is quite sufficient to say that there is nothing fundamentally broken in the implementation (e.g. accessing randomly initialised memory), but that:\r\n* it is more susceptible to numerical imprecision than we would like, but perhaps we should (seek contributions that) investigate stability improvements\r\n* the test is brittle and already provides only weak assurances in asserting t > 0.9\r\n* given this, we can probably get away with lowering the threshold, with a comment referencing this issue\r\n\r\nHowever, we may also be able to improve stability by choosing a better random data production approach; this random seed produces data where the following are the smallest differences between any pairwise distances in X:\r\n\r\n```python\r\n>>> D = pairwise_distances(X)\r\n>>> d = D[np.tril_indices_from(D, -1)]\r\n>>> deltas = np.sort(np.diff(np.sort(d)))\r\n>>> deltas\r\narray([  6.55651093e-07,   3.57627869e-06,   4.11272049e-06, ...,\r\n         9.16552544e-02,   1.93810940e-01,   5.23059368e-01], dtype=float32)\r\n```\r\nThat's very small differences for float32 data, and a large range in exponent from min to max.\r\n\r\nIs there a reason this test needs to use randn? Can it have a higher variance? Multiplying X by 1000 will mean at least the pairwise distances are much more distinguished in a float32, which I *think* may help."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/330201830", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-330201830", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 330201830, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDIwMTgzMA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-18T12:15:54Z", "updated_at": "2017-09-18T12:15:54Z", "author_association": "MEMBER", "body": "So I guess that's a question to @priidukull too. Does the following `test_preserve_trustworthiness_approximately(s=100)` easily pass for you?\r\n```\r\ndef test_preserve_trustworthiness_approximately(s=1):\r\n    import numpy as np\r\n    from sklearn.manifold.t_sne import TSNE, trustworthiness\r\n    from sklearn.utils import check_random_state\r\n    random_state = check_random_state(0)\r\n    X = random_state.randn(50, 2).astype(np.float32) *s\r\n    tsne = TSNE(n_components=2, init='pca', random_state=0,\r\n                method='barnes_hut', n_iter=100000)\r\n    X_embedded = tsne.fit_transform(X)\r\n    t = trustworthiness(X, X_embedded, n_neighbors=1)\r\n    print(t)\r\n    assert t > .9\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/330516599", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-330516599", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 330516599, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDUxNjU5OQ==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-19T11:58:10Z", "updated_at": "2017-09-19T12:30:05Z", "author_association": "MEMBER", "body": "I think @albertcthomas's [fix](https://github.com/scikit-learn/scikit-learn/pull/9340/commits/b360c9a4e169a02d81febe1024223dcc4708ecff) in #9340 is the right fix:\r\n\r\n- This test generates training data as 32 bit float\r\n- The Barnes Hut Cython code works on 32 bit float\r\n- The Python validation of the `TSNE.fit` code would therefore upcast 32-bit float data into 64 bit floats before casting down back to 32 bit float to call into the Cython code.\r\n\r\nUpcasting from 32 bit to 64 bit is platform specific (the new bits are not necessarily set to zero) and can explain the non deterministic behaviour with observed on some platforms / machines.\r\n\r\nWe need to pass 32 bit to 32 bit cython code without upcasting (which also wastes memory for nothing)."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/330521391", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-330521391", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 330521391, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDUyMTM5MQ==", "user": {"login": "albertcthomas", "id": 15966638, "node_id": "MDQ6VXNlcjE1OTY2NjM4", "avatar_url": "https://avatars3.githubusercontent.com/u/15966638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertcthomas", "html_url": "https://github.com/albertcthomas", "followers_url": "https://api.github.com/users/albertcthomas/followers", "following_url": "https://api.github.com/users/albertcthomas/following{/other_user}", "gists_url": "https://api.github.com/users/albertcthomas/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertcthomas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertcthomas/subscriptions", "organizations_url": "https://api.github.com/users/albertcthomas/orgs", "repos_url": "https://api.github.com/users/albertcthomas/repos", "events_url": "https://api.github.com/users/albertcthomas/events{/privacy}", "received_events_url": "https://api.github.com/users/albertcthomas/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-19T12:20:45Z", "updated_at": "2017-09-19T12:25:04Z", "author_association": "CONTRIBUTOR", "body": "Just to be sure we are on the same page, the fix I suggested in #9340 consists in having `dtype=[np.float32, np.float64]` in a `check_X_y` I added in this same PR. The `check_X_y` in master already has a `dtype=[np.float32, np.float64]` (see [here](https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/manifold/t_sne.py#L659)) (#9340 is older than the tSNE memory usage fix that was merged in July)."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/330523805", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-330523805", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 330523805, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDUyMzgwNQ==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-19T12:30:52Z", "updated_at": "2017-09-19T12:30:52Z", "author_association": "MEMBER", "body": "Ah then there is something I do not understand. Will need to investigate further."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/330557547", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-330557547", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 330557547, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDU1NzU0Nw==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-19T14:27:59Z", "updated_at": "2017-09-19T14:27:59Z", "author_association": "MEMBER", "body": "> Is there a reason this test needs to use randn? Can it have a higher variance? Multiplying X by 1000 will mean at least the pairwise distances are much more distinguished in a float32, which I think may help.\r\n\r\n+1 for trying with larger variance or even a different distribution (e.g. uniform)."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/330796288", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-330796288", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 330796288, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDc5NjI4OA==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-20T09:22:45Z", "updated_at": "2017-09-20T09:22:45Z", "author_association": "MEMBER", "body": "Actually, multiplying the data by 100 does not make the algorithm more stable with the PCA init, quite the opposite actually. On the original machine, the exact method + PCA init was triggering the instability according to: https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-322214890\r\n\r\nChanging the random seed can have a large impact on the outcome. So maybe the rounding errors can indeed also have a large impact. By increasing the number of samples to 100 (instead of 50), the trustworthiness gets much better (and therefore much more stable) but the test is significantly slower (couple of seconds on my machine).\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/330853418", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-330853418", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 330853418, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDg1MzQxOA==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-20T13:35:58Z", "updated_at": "2017-09-20T13:43:58Z", "author_association": "MEMBER", "body": "Ok after playing extensively with different random seeds and platforms (mkl vs openblas PCA for the init) I think that 0.9 is just too strict. We could keep the 0.9 threshold and stabilize this test by:\r\n\r\n- running TSNE on larger datasets (in which case the trustworthiness score gets more stable)\r\n- running the tests several times with different random seeds and make an assertion on the median score.\r\n\r\nHowever both approaches are too expensive in my opinion. While running my test with several hundred seeds on the original 50 samples random dataset I have never seen this score go below 0.87. So I think setting it to 0.85 should fix the issue. I will submit a PR."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/338848932", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-338848932", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 338848932, "node_id": "MDEyOklzc3VlQ29tbWVudDMzODg0ODkzMg==", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-24T02:01:18Z", "updated_at": "2017-10-24T02:01:18Z", "author_association": "MEMBER", "body": "FWIW, this issue still happens on 32bit debian stretch with 0.19.1\r\n```shell\r\n======================================================================\r\nFAIL: sklearn.manifold.tests.test_t_sne.test_preserve_trustworthiness_approximately\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/dist-packages/nose/case.py\", line 197, in runTest\r\n    self.test(*self.arg)\r\n  File \"/build/scikit-learn-0.19.1/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/manifold/tests/test_t_sne.py\", line 249, in test_preserve_trustworthiness_approximately\r\n    assert_greater(t, 0.9)\r\nAssertionError: 0.89166666666666661 not greater than 0.9\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/338855423", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-338855423", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 338855423, "node_id": "MDEyOklzc3VlQ29tbWVudDMzODg1NTQyMw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-24T02:42:57Z", "updated_at": "2017-10-24T02:42:57Z", "author_association": "MEMBER", "body": "It looks like that PR was not copied across correctly to 0.19.1. My fault.\n\nShould be working in master, though, and seeing as the solution was simply\nto lower the threshold to 0.85, I don't think we're going to make another\nbug-fix release. Feel free to patch for Debian.\n\nOn 24 October 2017 at 13:01, Yaroslav Halchenko <notifications@github.com>\nwrote:\n\n> FWIW, this issue still happens on 32bit debian stretch with 0.19.1\n>\n> ======================================================================\n> FAIL: sklearn.manifold.tests.test_t_sne.test_preserve_trustworthiness_approximately\n> ----------------------------------------------------------------------\n> Traceback (most recent call last):\n>   File \"/usr/lib/python2.7/dist-packages/nose/case.py\", line 197, in runTest\n>     self.test(*self.arg)\n>   File \"/build/scikit-learn-0.19.1/debian/tmp/usr/lib/python2.7/dist-packages/sklearn/manifold/tests/test_t_sne.py\", line 249, in test_preserve_trustworthiness_approximately\n>     assert_greater(t, 0.9)\n> AssertionError: 0.89166666666666661 not greater than 0.9\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-338848932>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEz63RTLsnmw0CIzX94a-xd0CVbnTxZks5svUTvgaJpZM4OaXom>\n> .\n>\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/338855561", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-338855561", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 338855561, "node_id": "MDEyOklzc3VlQ29tbWVudDMzODg1NTU2MQ==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-24T02:43:49Z", "updated_at": "2017-10-24T02:43:49Z", "author_association": "MEMBER", "body": "You can cherry-pick 6c99d797 if you wish.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/339137535", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-339137535", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 339137535, "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTEzNzUzNQ==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-24T21:28:41Z", "updated_at": "2017-10-24T21:28:41Z", "author_association": "MEMBER", "body": "there was apparently also a 32bit failure on windows for 0.19.1, but I don't think it was this one."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/426420628", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-426420628", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 426420628, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjQyMDYyOA==", "user": {"login": "Ryanglambert", "id": 3768892, "node_id": "MDQ6VXNlcjM3Njg4OTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3768892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ryanglambert", "html_url": "https://github.com/Ryanglambert", "followers_url": "https://api.github.com/users/Ryanglambert/followers", "following_url": "https://api.github.com/users/Ryanglambert/following{/other_user}", "gists_url": "https://api.github.com/users/Ryanglambert/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ryanglambert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ryanglambert/subscriptions", "organizations_url": "https://api.github.com/users/Ryanglambert/orgs", "repos_url": "https://api.github.com/users/Ryanglambert/repos", "events_url": "https://api.github.com/users/Ryanglambert/events{/privacy}", "received_events_url": "https://api.github.com/users/Ryanglambert/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-02T20:35:53Z", "updated_at": "2018-10-02T20:38:59Z", "author_association": "NONE", "body": "This test fails for me with: \r\n```\r\nAssertionError: **0.7741666666666667** not greater than 0.85 : Trustworthiness=0.774 < 0.85 for method=barnes_hut and init=pca\r\n```\r\n\r\n#### my machine info:\r\n```\r\nSystem\r\n------\r\n    python: 3.7.0 (default, Jun 29 2018, 20:13:13)  [Clang 9.1.0 (clang-902.0.39.2)]\r\nexecutable: /usr/local/opt/python/bin/python3.7\r\n   machine: Darwin-17.7.0-x86_64-i386-64bit\r\n\r\nBLAS\r\n----\r\n    macros: NO_ATLAS_INFO=3, HAVE_CBLAS=None\r\n  lib_dirs: \r\ncblas_libs: cblas\r\n\r\nPython deps\r\n-----------\r\n       pip: 18.0\r\nsetuptools: 39.0.1\r\n   sklearn: 0.21.dev0\r\n     numpy: 1.15.2\r\n     scipy: 1.1.0\r\n    Cython: 0.28.5\r\n    pandas: None\r\n```\r\n\r\nWill be more than thrilled to comply with any requests for further info / repros.\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/426841180", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/9393#issuecomment-426841180", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/9393", "id": 426841180, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjg0MTE4MA==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-03T23:55:47Z", "updated_at": "2018-10-03T23:55:47Z", "author_association": "MEMBER", "body": "Ryan, it would be best to open a new issue\n"}]