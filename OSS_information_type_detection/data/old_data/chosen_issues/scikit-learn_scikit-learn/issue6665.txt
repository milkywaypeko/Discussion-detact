[{
  "url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665",
  "repository_url": "https://api.github.com/repos/scikit-learn/scikit-learn",
  "labels_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665/labels{/name}",
  "comments_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665/comments",
  "events_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665/events",
  "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665",
  "id": 148639142,
  "node_id": "MDU6SXNzdWUxNDg2MzkxNDI=",
  "number": 6665,
  "title": "t-SNE fails with array must not contain infs or NaNs (OSX specific)",
  "user": {
    "login": "joelkuiper",
    "id": 971293,
    "node_id": "MDQ6VXNlcjk3MTI5Mw==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/971293?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/joelkuiper",
    "html_url": "https://github.com/joelkuiper",
    "followers_url": "https://api.github.com/users/joelkuiper/followers",
    "following_url": "https://api.github.com/users/joelkuiper/following{/other_user}",
    "gists_url": "https://api.github.com/users/joelkuiper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/joelkuiper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/joelkuiper/subscriptions",
    "organizations_url": "https://api.github.com/users/joelkuiper/orgs",
    "repos_url": "https://api.github.com/users/joelkuiper/repos",
    "events_url": "https://api.github.com/users/joelkuiper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/joelkuiper/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 12995755,
      "node_id": "MDU6TGFiZWwxMjk5NTc1NQ==",
      "url": "https://api.github.com/repos/scikit-learn/scikit-learn/labels/Bug",
      "name": "Bug",
      "color": "e10c02",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/scikit-learn/scikit-learn/milestones/21",
    "html_url": "https://github.com/scikit-learn/scikit-learn/milestone/21",
    "labels_url": "https://api.github.com/repos/scikit-learn/scikit-learn/milestones/21/labels",
    "id": 1970916,
    "node_id": "MDk6TWlsZXN0b25lMTk3MDkxNg==",
    "number": 21,
    "title": "0.19",
    "description": "",
    "creator": {
      "login": "amueller",
      "id": 449558,
      "node_id": "MDQ6VXNlcjQ0OTU1OA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amueller",
      "html_url": "https://github.com/amueller",
      "followers_url": "https://api.github.com/users/amueller/followers",
      "following_url": "https://api.github.com/users/amueller/following{/other_user}",
      "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amueller/subscriptions",
      "organizations_url": "https://api.github.com/users/amueller/orgs",
      "repos_url": "https://api.github.com/users/amueller/repos",
      "events_url": "https://api.github.com/users/amueller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amueller/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 21,
    "closed_issues": 203,
    "state": "closed",
    "created_at": "2016-08-29T22:34:33Z",
    "updated_at": "2018-08-21T20:10:16Z",
    "due_on": "2017-07-04T07:00:00Z",
    "closed_at": "2017-09-10T23:43:21Z"
  },
  "comments": 106,
  "created_at": "2016-04-15T11:45:35Z",
  "updated_at": "2017-08-15T16:56:44Z",
  "closed_at": "2016-12-02T10:17:43Z",
  "author_association": "NONE",
  "body": "```\nDarwin-15.0.0-x86_64-i386-64bit\n('Python', '2.7.11 |Anaconda custom (x86_64)| (default, Dec  6 2015, 18:57:58) \\n[GCC 4.2.1 (Apple Inc. build 5577)]')\n('NumPy', '1.11.0')\n('SciPy', '0.17.0')\n('Scikit-Learn', '0.17.1')\n```\n\nWhen trying to run a t-SNE \n\n```\nproj = TSNE().fit_transform(X)\nValueError: array must not contain infs or NaNs\n```\n\nHowever \n\n```\nnp.isfinite(X).all() # True \nnp.isnan(X).all() # False\nnp.isinf(X).all() # False\n```\n\nFull Stack Trace: \n\n```\n\nValueError                                Traceback (most recent call last)\n<ipython-input-16-c25f35fd042c> in <module>()\n----> 1 plot(X, y)\n\n<ipython-input-1-72bdb7124d13> in plot(X, y)\n     74 \n     75 def plot(X, y):\n---> 76     proj = TSNE().fit_transform(X)\n     77     scatter(proj, y)\n\n/Users/joelkuiper/anaconda/lib/python2.7/site-packages/sklearn/manifold/t_sne.pyc in fit_transform(self, X, y)\n    864             Embedding of the training data in low-dimensional space.\n    865         \"\"\"\n--> 866         embedding = self._fit(X)\n    867         self.embedding_ = embedding\n    868         return self.embedding_\n\n/Users/joelkuiper/anaconda/lib/python2.7/site-packages/sklearn/manifold/t_sne.pyc in _fit(self, X, skip_num_points)\n    775                           X_embedded=X_embedded,\n    776                           neighbors=neighbors_nn,\n--> 777                           skip_num_points=skip_num_points)\n    778 \n    779     def _tsne(self, P, degrees_of_freedom, n_samples, random_state,\n\n/Users/joelkuiper/anaconda/lib/python2.7/site-packages/sklearn/manifold/t_sne.pyc in _tsne(self, P, degrees_of_freedom, n_samples, random_state, X_embedded, neighbors, skip_num_points)\n    830         opt_args['momentum'] = 0.8\n    831         opt_args['it'] = it + 1\n--> 832         params, error, it = _gradient_descent(obj_func, params, **opt_args)\n    833         if self.verbose:\n    834             print(\"[t-SNE] Error after %d iterations with early \"\n\n/Users/joelkuiper/anaconda/lib/python2.7/site-packages/sklearn/manifold/t_sne.pyc in _gradient_descent(objective, p0, it, n_iter, objective_error, n_iter_check, n_iter_without_progress, momentum, learning_rate, min_gain, min_grad_norm, min_error_diff, verbose, args, kwargs)\n    385     for i in range(it, n_iter):\n    386         new_error, grad = objective(p, *args, **kwargs)\n--> 387         grad_norm = linalg.norm(grad)\n    388 \n    389         inc = update * grad >= 0.0\n\n/Users/joelkuiper/anaconda/lib/python2.7/site-packages/scipy/linalg/misc.pyc in norm(a, ord, axis, keepdims)\n    127     \"\"\"\n    128     # Differs from numpy only in non-finite handling and the use of blas.\n--> 129     a = np.asarray_chkfinite(a)\n    130 \n    131     # Only use optimized norms if axis and keepdims are not specified.\n\n/Users/joelkuiper/anaconda/lib/python2.7/site-packages/numpy/lib/function_base.pyc in asarray_chkfinite(a, dtype, order)\n   1020     if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():\n   1021         raise ValueError(\n-> 1022             \"array must not contain infs or NaNs\")\n   1023     return a\n   1024 \n\nValueError: array must not contain infs or NaNs\n```\n",
  "closed_by": {
    "login": "lesteve",
    "id": 1680079,
    "node_id": "MDQ6VXNlcjE2ODAwNzk=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lesteve",
    "html_url": "https://github.com/lesteve",
    "followers_url": "https://api.github.com/users/lesteve/followers",
    "following_url": "https://api.github.com/users/lesteve/following{/other_user}",
    "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions",
    "organizations_url": "https://api.github.com/users/lesteve/orgs",
    "repos_url": "https://api.github.com/users/lesteve/repos",
    "events_url": "https://api.github.com/users/lesteve/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lesteve/received_events",
    "type": "User",
    "site_admin": false
  }
},{"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/210443057", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-210443057", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 210443057, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ0MzA1Nw==", "user": {"login": "joelkuiper", "id": 971293, "node_id": "MDQ6VXNlcjk3MTI5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/971293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joelkuiper", "html_url": "https://github.com/joelkuiper", "followers_url": "https://api.github.com/users/joelkuiper/followers", "following_url": "https://api.github.com/users/joelkuiper/following{/other_user}", "gists_url": "https://api.github.com/users/joelkuiper/gists{/gist_id}", "starred_url": "https://api.github.com/users/joelkuiper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joelkuiper/subscriptions", "organizations_url": "https://api.github.com/users/joelkuiper/orgs", "repos_url": "https://api.github.com/users/joelkuiper/repos", "events_url": "https://api.github.com/users/joelkuiper/events{/privacy}", "received_events_url": "https://api.github.com/users/joelkuiper/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-15T12:18:25Z", "updated_at": "2016-04-15T12:18:25Z", "author_association": "NONE", "body": "Same with ('Scikit-Learn', '0.18.dev0')\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/210968577", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-210968577", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 210968577, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDk2ODU3Nw==", "user": {"login": "KeyKy", "id": 2967075, "node_id": "MDQ6VXNlcjI5NjcwNzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2967075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KeyKy", "html_url": "https://github.com/KeyKy", "followers_url": "https://api.github.com/users/KeyKy/followers", "following_url": "https://api.github.com/users/KeyKy/following{/other_user}", "gists_url": "https://api.github.com/users/KeyKy/gists{/gist_id}", "starred_url": "https://api.github.com/users/KeyKy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KeyKy/subscriptions", "organizations_url": "https://api.github.com/users/KeyKy/orgs", "repos_url": "https://api.github.com/users/KeyKy/repos", "events_url": "https://api.github.com/users/KeyKy/events{/privacy}", "received_events_url": "https://api.github.com/users/KeyKy/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-17T07:11:03Z", "updated_at": "2016-04-17T07:11:03Z", "author_association": "NONE", "body": "Do you mind sharing your data X with me?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/210981338", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-210981338", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 210981338, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDk4MTMzOA==", "user": {"login": "joelkuiper", "id": 971293, "node_id": "MDQ6VXNlcjk3MTI5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/971293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joelkuiper", "html_url": "https://github.com/joelkuiper", "followers_url": "https://api.github.com/users/joelkuiper/followers", "following_url": "https://api.github.com/users/joelkuiper/following{/other_user}", "gists_url": "https://api.github.com/users/joelkuiper/gists{/gist_id}", "starred_url": "https://api.github.com/users/joelkuiper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joelkuiper/subscriptions", "organizations_url": "https://api.github.com/users/joelkuiper/orgs", "repos_url": "https://api.github.com/users/joelkuiper/repos", "events_url": "https://api.github.com/users/joelkuiper/events{/privacy}", "received_events_url": "https://api.github.com/users/joelkuiper/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-17T08:56:36Z", "updated_at": "2016-04-17T08:56:36Z", "author_association": "NONE", "body": "Sure, where and in what format would you like it?\n\n> On 17 Apr 2016, at 09:11, \u5eb7\u6d0b notifications@github.com wrote:\n> \n> Do you mind sharing your data X with me?\n> \n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-210968577\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/210983154", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-210983154", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 210983154, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDk4MzE1NA==", "user": {"login": "KeyKy", "id": 2967075, "node_id": "MDQ6VXNlcjI5NjcwNzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2967075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KeyKy", "html_url": "https://github.com/KeyKy", "followers_url": "https://api.github.com/users/KeyKy/followers", "following_url": "https://api.github.com/users/KeyKy/following{/other_user}", "gists_url": "https://api.github.com/users/KeyKy/gists{/gist_id}", "starred_url": "https://api.github.com/users/KeyKy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KeyKy/subscriptions", "organizations_url": "https://api.github.com/users/KeyKy/orgs", "repos_url": "https://api.github.com/users/KeyKy/repos", "events_url": "https://api.github.com/users/KeyKy/events{/privacy}", "received_events_url": "https://api.github.com/users/KeyKy/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-17T09:06:51Z", "updated_at": "2016-04-17T09:06:51Z", "author_association": "NONE", "body": "My email is 370846270@qq.com\nAs i know, there is a function numpy.save for saving an array to a binary file in .npy format~~\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/211144897", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-211144897", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 211144897, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTE0NDg5Nw==", "user": {"login": "KeyKy", "id": 2967075, "node_id": "MDQ6VXNlcjI5NjcwNzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2967075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KeyKy", "html_url": "https://github.com/KeyKy", "followers_url": "https://api.github.com/users/KeyKy/followers", "following_url": "https://api.github.com/users/KeyKy/following{/other_user}", "gists_url": "https://api.github.com/users/KeyKy/gists{/gist_id}", "starred_url": "https://api.github.com/users/KeyKy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KeyKy/subscriptions", "organizations_url": "https://api.github.com/users/KeyKy/orgs", "repos_url": "https://api.github.com/users/KeyKy/repos", "events_url": "https://api.github.com/users/KeyKy/events{/privacy}", "received_events_url": "https://api.github.com/users/KeyKy/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-18T01:10:06Z", "updated_at": "2016-04-18T03:11:20Z", "author_association": "NONE", "body": "I test your data in ubuntu 14.04 LTS with\nPython==2.7.6\nscikit-learn==0.17.1\nnumpy==1.8.2\nscipy==0.13.3\nIt is fine and doesn't raise the ValueError. The test code is:\n`import numpy\na = numpy.load('/root/test.npy')\nprint a.shape\nprint numpy.isnan(a).all()  #False\nprint numpy.isfinite(a).all() #True\nprint numpy.isinf(a).all() #False\n\nfrom sklearn.manifold import TSNE\nproj = TSNE().fit_transform(a) #[[  2.35503527e+00   1.15976751e+01] .... [  3.29832591e+00   8.98212513e+00]]\nprint proj`\n\n---\n\nThen i upgrade numpy, scipy to 1.11.0, 0.17.0 and test with the same code and it also doesn't raise any error.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/218365487", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-218365487", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 218365487, "node_id": "MDEyOklzc3VlQ29tbWVudDIxODM2NTQ4Nw==", "user": {"login": "ivan-krukov", "id": 1881263, "node_id": "MDQ6VXNlcjE4ODEyNjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1881263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivan-krukov", "html_url": "https://github.com/ivan-krukov", "followers_url": "https://api.github.com/users/ivan-krukov/followers", "following_url": "https://api.github.com/users/ivan-krukov/following{/other_user}", "gists_url": "https://api.github.com/users/ivan-krukov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivan-krukov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivan-krukov/subscriptions", "organizations_url": "https://api.github.com/users/ivan-krukov/orgs", "repos_url": "https://api.github.com/users/ivan-krukov/repos", "events_url": "https://api.github.com/users/ivan-krukov/events{/privacy}", "received_events_url": "https://api.github.com/users/ivan-krukov/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-11T05:29:51Z", "updated_at": "2016-05-11T05:30:17Z", "author_association": "NONE", "body": "Reproduced for 3.5 with anaconda under OS X El Capitan.\n\n```\nDarwin 15.4.0\nPython 3.5.1 :: Anaconda custom (x86_64)\nnumpy 1.10.4\nscipy 0.17.0\nscikit-learn 0.17.1\n```\n\nExample run:\n\n``` python\nimport random\nfrom sklearn.manifold import TSNE\nrandom.seed(1)\na = np.random.uniform(size=(100,20))\nTSNE(n_components=2).fit_transform(a)\n```\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/218370577", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-218370577", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 218370577, "node_id": "MDEyOklzc3VlQ29tbWVudDIxODM3MDU3Nw==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-11T06:10:09Z", "updated_at": "2016-05-11T06:10:09Z", "author_association": "MEMBER", "body": "Thanks @ivan-krukov, but I'm failing to replicate in Python 3.3. Will try 3.5\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/218508081", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-218508081", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 218508081, "node_id": "MDEyOklzc3VlQ29tbWVudDIxODUwODA4MQ==", "user": {"login": "ivan-krukov", "id": 1881263, "node_id": "MDQ6VXNlcjE4ODEyNjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1881263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivan-krukov", "html_url": "https://github.com/ivan-krukov", "followers_url": "https://api.github.com/users/ivan-krukov/followers", "following_url": "https://api.github.com/users/ivan-krukov/following{/other_user}", "gists_url": "https://api.github.com/users/ivan-krukov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivan-krukov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivan-krukov/subscriptions", "organizations_url": "https://api.github.com/users/ivan-krukov/orgs", "repos_url": "https://api.github.com/users/ivan-krukov/repos", "events_url": "https://api.github.com/users/ivan-krukov/events{/privacy}", "received_events_url": "https://api.github.com/users/ivan-krukov/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-11T16:08:49Z", "updated_at": "2016-05-11T16:08:49Z", "author_association": "NONE", "body": "This does not apply to `linux` (4.4.0-21, Ubuntu 16.04) with the same packages under 3.5.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/218609276", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-218609276", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 218609276, "node_id": "MDEyOklzc3VlQ29tbWVudDIxODYwOTI3Ng==", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-11T22:28:28Z", "updated_at": "2016-05-11T22:28:28Z", "author_association": "MEMBER", "body": "I'm on El-Capitan, but I'm failing to get a Python 3.5 installation up and running.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/223026075", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-223026075", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 223026075, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzAyNjA3NQ==", "user": {"login": "dcbb", "id": 8624827, "node_id": "MDQ6VXNlcjg2MjQ4Mjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/8624827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbb", "html_url": "https://github.com/dcbb", "followers_url": "https://api.github.com/users/dcbb/followers", "following_url": "https://api.github.com/users/dcbb/following{/other_user}", "gists_url": "https://api.github.com/users/dcbb/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbb/subscriptions", "organizations_url": "https://api.github.com/users/dcbb/orgs", "repos_url": "https://api.github.com/users/dcbb/repos", "events_url": "https://api.github.com/users/dcbb/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbb/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-01T15:17:05Z", "updated_at": "2016-06-01T15:25:16Z", "author_association": "NONE", "body": "Is there any update on this? \n\nI have the issue on a dataset of mine, on Anaconda, Py 3.5, sklearn 0.17.1, OSX El Capitan.\nI can reproduce the error with the example provided by @ivan-krukov .\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/223231882", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-223231882", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 223231882, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzIzMTg4Mg==", "user": {"login": "youyanggu", "id": 1267035, "node_id": "MDQ6VXNlcjEyNjcwMzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1267035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/youyanggu", "html_url": "https://github.com/youyanggu", "followers_url": "https://api.github.com/users/youyanggu/followers", "following_url": "https://api.github.com/users/youyanggu/following{/other_user}", "gists_url": "https://api.github.com/users/youyanggu/gists{/gist_id}", "starred_url": "https://api.github.com/users/youyanggu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/youyanggu/subscriptions", "organizations_url": "https://api.github.com/users/youyanggu/orgs", "repos_url": "https://api.github.com/users/youyanggu/repos", "events_url": "https://api.github.com/users/youyanggu/events{/privacy}", "received_events_url": "https://api.github.com/users/youyanggu/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-02T08:46:34Z", "updated_at": "2016-06-02T08:46:34Z", "author_association": "NONE", "body": "Same issue. Python 2.7.6 on OS X El Capitan on 0.17. Tried the same code on Linux using Python 2.7.6 and 0.17, and it works.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/224559339", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-224559339", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 224559339, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDU1OTMzOQ==", "user": {"login": "edevil", "id": 12426, "node_id": "MDQ6VXNlcjEyNDI2", "avatar_url": "https://avatars0.githubusercontent.com/u/12426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edevil", "html_url": "https://github.com/edevil", "followers_url": "https://api.github.com/users/edevil/followers", "following_url": "https://api.github.com/users/edevil/following{/other_user}", "gists_url": "https://api.github.com/users/edevil/gists{/gist_id}", "starred_url": "https://api.github.com/users/edevil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edevil/subscriptions", "organizations_url": "https://api.github.com/users/edevil/orgs", "repos_url": "https://api.github.com/users/edevil/repos", "events_url": "https://api.github.com/users/edevil/events{/privacy}", "received_events_url": "https://api.github.com/users/edevil/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-08T11:13:35Z", "updated_at": "2016-06-08T11:13:35Z", "author_association": "NONE", "body": "Same issue.\nOSX El Capitan Python 3.5.1\nscikit-learn==0.17.1\nscipy==0.17.1\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/225648597", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-225648597", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 225648597, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTY0ODU5Nw==", "user": {"login": "Ekliptor", "id": 14872773, "node_id": "MDQ6VXNlcjE0ODcyNzcz", "avatar_url": "https://avatars3.githubusercontent.com/u/14872773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ekliptor", "html_url": "https://github.com/Ekliptor", "followers_url": "https://api.github.com/users/Ekliptor/followers", "following_url": "https://api.github.com/users/Ekliptor/following{/other_user}", "gists_url": "https://api.github.com/users/Ekliptor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ekliptor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ekliptor/subscriptions", "organizations_url": "https://api.github.com/users/Ekliptor/orgs", "repos_url": "https://api.github.com/users/Ekliptor/repos", "events_url": "https://api.github.com/users/Ekliptor/events{/privacy}", "received_events_url": "https://api.github.com/users/Ekliptor/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-13T17:20:01Z", "updated_at": "2016-06-13T17:20:51Z", "author_association": "NONE", "body": "I have the same problem and would really appreciate a fix (or workaround?)\nSystem Version: OS X 10.11.5\nPython 3.5.1 :: Anaconda 4.0.0 (x86_64)\nnumpy.version.version 1.11.0\nscipy.version 0.17.1\nsklearn.**version** 0.17.1\n\nI can also reproduce the bug with the code sample from ivan-krukov\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/226488456", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-226488456", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 226488456, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjQ4ODQ1Ng==", "user": {"login": "lucienevans", "id": 8786347, "node_id": "MDQ6VXNlcjg3ODYzNDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8786347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucienevans", "html_url": "https://github.com/lucienevans", "followers_url": "https://api.github.com/users/lucienevans/followers", "following_url": "https://api.github.com/users/lucienevans/following{/other_user}", "gists_url": "https://api.github.com/users/lucienevans/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucienevans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucienevans/subscriptions", "organizations_url": "https://api.github.com/users/lucienevans/orgs", "repos_url": "https://api.github.com/users/lucienevans/repos", "events_url": "https://api.github.com/users/lucienevans/events{/privacy}", "received_events_url": "https://api.github.com/users/lucienevans/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-16T13:42:38Z", "updated_at": "2016-06-16T13:42:38Z", "author_association": "NONE", "body": "Same issue on OS X EI Capitan using Python 3.5\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/229470478", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-229470478", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 229470478, "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTQ3MDQ3OA==", "user": {"login": "Concomitant", "id": 6643701, "node_id": "MDQ6VXNlcjY2NDM3MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6643701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Concomitant", "html_url": "https://github.com/Concomitant", "followers_url": "https://api.github.com/users/Concomitant/followers", "following_url": "https://api.github.com/users/Concomitant/following{/other_user}", "gists_url": "https://api.github.com/users/Concomitant/gists{/gist_id}", "starred_url": "https://api.github.com/users/Concomitant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Concomitant/subscriptions", "organizations_url": "https://api.github.com/users/Concomitant/orgs", "repos_url": "https://api.github.com/users/Concomitant/repos", "events_url": "https://api.github.com/users/Concomitant/events{/privacy}", "received_events_url": "https://api.github.com/users/Concomitant/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-29T19:59:31Z", "updated_at": "2016-06-29T19:59:31Z", "author_association": "NONE", "body": "System Version: OS X 10.11.5\nPython 3.5.1 :: Continuum Analytics, Inc.\nnumpy.**version** 1.11.1\nscipy.**version** 0.16.0\nsklearn.**version** 0.17.1\n\nSame problem. Though I have noticed that **it only occurs for a subset of my dataset and not with the whole thing**. That is, if I do TSNE on the whole data set it **works**, if I do it on a reduced set it does not. \n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/229472255", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-229472255", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 229472255, "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTQ3MjI1NQ==", "user": {"login": "Concomitant", "id": 6643701, "node_id": "MDQ6VXNlcjY2NDM3MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6643701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Concomitant", "html_url": "https://github.com/Concomitant", "followers_url": "https://api.github.com/users/Concomitant/followers", "following_url": "https://api.github.com/users/Concomitant/following{/other_user}", "gists_url": "https://api.github.com/users/Concomitant/gists{/gist_id}", "starred_url": "https://api.github.com/users/Concomitant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Concomitant/subscriptions", "organizations_url": "https://api.github.com/users/Concomitant/orgs", "repos_url": "https://api.github.com/users/Concomitant/repos", "events_url": "https://api.github.com/users/Concomitant/events{/privacy}", "received_events_url": "https://api.github.com/users/Concomitant/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-29T20:06:13Z", "updated_at": "2016-06-29T20:06:13Z", "author_association": "NONE", "body": "O_o;; This just in, if I repeat the same 'broken' subset that doesn't work(by means of list*10) then it works. Multiplying each individual vector by 10 doesn't work, but duplicating the date does. just doubling the length of the list is insufficient. Maybe this is some kind of degrees of freedom check run amok?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/229635400", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-229635400", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 229635400, "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTYzNTQwMA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-30T11:44:54Z", "updated_at": "2016-06-30T11:44:54Z", "author_association": "MEMBER", "body": "@ivan-krukov I bit the bullet today and installed an El Capitan VM. Unfortunately I can not reproduce your problem.\n\n@Concomitant can you reproduce the error on the stand-alone example given in https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-218365487?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/229642939", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-229642939", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 229642939, "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTY0MjkzOQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-30T12:24:47Z", "updated_at": "2016-06-30T12:25:07Z", "author_association": "MEMBER", "body": "> I'm on El-Capitan, but I'm failing to get a Python 3.5 installation up and running.\n\n@jnothman it doesn't seem to be happening only on Python 3.5 so if you could try to reproduce with Python 2.7 (snippet: https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-218365487) that would be great.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/229703129", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-229703129", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 229703129, "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTcwMzEyOQ==", "user": {"login": "Concomitant", "id": 6643701, "node_id": "MDQ6VXNlcjY2NDM3MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6643701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Concomitant", "html_url": "https://github.com/Concomitant", "followers_url": "https://api.github.com/users/Concomitant/followers", "following_url": "https://api.github.com/users/Concomitant/following{/other_user}", "gists_url": "https://api.github.com/users/Concomitant/gists{/gist_id}", "starred_url": "https://api.github.com/users/Concomitant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Concomitant/subscriptions", "organizations_url": "https://api.github.com/users/Concomitant/orgs", "repos_url": "https://api.github.com/users/Concomitant/repos", "events_url": "https://api.github.com/users/Concomitant/events{/privacy}", "received_events_url": "https://api.github.com/users/Concomitant/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-30T15:55:05Z", "updated_at": "2016-06-30T15:55:05Z", "author_association": "NONE", "body": "@lesteve I can reproduce the issue.\n\n```\nimport numpy as np\nimport random\nfrom sklearn.manifold import TSNE\nrandom.seed(1)\na = np.random.uniform(size=(100,20))\nTSNE(n_components=2).fit_transform(a)\n\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/dshank/miniconda3/envs/python3/lib/python3.5/site-packages/sklearn/manifold/t_sne.py\", line 866, in fit_transform\n    embedding = self._fit(X)\n  File \"/Users/dshank/miniconda3/envs/python3/lib/python3.5/site-packages/sklearn/manifold/t_sne.py\", line 777, in _fit\n    skip_num_points=skip_num_points)\n  File \"/Users/dshank/miniconda3/envs/python3/lib/python3.5/site-packages/sklearn/manifold/t_sne.py\", line 832, in _tsne\n    params, error, it = _gradient_descent(obj_func, params, **opt_args)\n  File \"/Users/dshank/miniconda3/envs/python3/lib/python3.5/site-packages/sklearn/manifold/t_sne.py\", line 387, in _gradient_descent\n    grad_norm = linalg.norm(grad)\n  File \"/Users/dshank/miniconda3/envs/python3/lib/python3.5/site-packages/scipy/linalg/misc.py\", line 115, in norm\n    a = np.asarray_chkfinite(a)\n  File \"/Users/dshank/miniconda3/envs/python3/lib/python3.5/site-packages/numpy/lib/function_base.py\", line 1033, in asarray_chkfinite\n    \"array must not contain infs or NaNs\")\nValueError: array must not contain infs or NaNs\n```\n\nFollowing the same code, however:\n\n```\n>>> a = np.random.uniform(size=(10000,20))\n>>> TSNE(n_components=2).fit_transform(a)\narray([[  3.25766047e+11,  -2.74708004e+11],\n       [  2.43498802e+11,  -7.68189047e+10],\n       [ -6.00107639e+09,  -1.13548763e+11],\n       ..., \n       [  3.02794039e+10,   6.64402020e+11],\n       [  2.55855781e+10,   5.67932400e+10],\n       [  1.42040378e+11,  -7.55188994e+10]])\n```\n\nBizarre.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/230488984", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-230488984", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 230488984, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDQ4ODk4NA==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-05T14:09:56Z", "updated_at": "2016-07-05T14:09:56Z", "author_association": "MEMBER", "body": "I cannot reproduce either with python 3.5.1, numpy 1.11.1, scipy 0.17.1 and scikit-learn 0.17.1 from miniconda (with MKL) on a virtualbox with OSX El Capitan. I will try on a real mac hardware later.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/230491862", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-230491862", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 230491862, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDQ5MTg2Mg==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-05T14:20:17Z", "updated_at": "2016-07-05T14:20:17Z", "author_association": "MEMBER", "body": "Also @joelkuiper and @Concomitant can you please check that you can reproduce the problem on the current state of the scikit-learn master branch?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/230500682", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-230500682", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 230500682, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDUwMDY4Mg==", "user": {"login": "nelson-liu", "id": 7272031, "node_id": "MDQ6VXNlcjcyNzIwMzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/7272031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nelson-liu", "html_url": "https://github.com/nelson-liu", "followers_url": "https://api.github.com/users/nelson-liu/followers", "following_url": "https://api.github.com/users/nelson-liu/following{/other_user}", "gists_url": "https://api.github.com/users/nelson-liu/gists{/gist_id}", "starred_url": "https://api.github.com/users/nelson-liu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nelson-liu/subscriptions", "organizations_url": "https://api.github.com/users/nelson-liu/orgs", "repos_url": "https://api.github.com/users/nelson-liu/repos", "events_url": "https://api.github.com/users/nelson-liu/events{/privacy}", "received_events_url": "https://api.github.com/users/nelson-liu/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-05T14:49:42Z", "updated_at": "2016-07-05T14:50:20Z", "author_association": "CONTRIBUTOR", "body": "@lesteve and others I cannot reproduce the error with the [snippet posted earlier](https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-218365487) on the latest master with python 2.7.\n\nSystem info:\n\n```\nDarwin-15.0.0-x86_64-i386-64bit\n('Python', '2.7.10 (v2.7.10:15c95b7d81dc, May 23 2015, 09:33:12) \\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]')\n('NumPy', '1.11.0')\n('SciPy', '0.17.0')\n('Scikit-Learn', '0.18.dev0')\n```\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/230698073", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-230698073", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 230698073, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDY5ODA3Mw==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-06T07:26:04Z", "updated_at": "2016-07-06T07:26:04Z", "author_association": "MEMBER", "body": "I tried again on a real mac running OSX El Capitan 10.11.3 (with anaconda's latest numpy scipy and scikit-learn, same setting as reported by @Concomitant in https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-229703129) but could not reproduce the problem either (tried running the snippet several times).\n\nWhat is weird though it that the despite the `np.random.seed(1)` line I get different results for the output of `fit_transform`. This might be a bug in itself.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/230755300", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-230755300", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 230755300, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDc1NTMwMA==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-06T12:19:09Z", "updated_at": "2016-07-06T12:19:09Z", "author_association": "MEMBER", "body": "> What is weird though it that the despite the np.random.seed(1) line I get different results for the output of fit_transform. This might be a bug in itself.\n\nActually I read @Concomitant's code snippet too quickly: instead of `random.seed(1)` it should be `np.random.seed(1)` otherwise the numpy RNG is not reseeded appropriately and one cannot get deterministic results.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/230755472", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-230755472", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 230755472, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDc1NTQ3Mg==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-06T12:20:08Z", "updated_at": "2016-07-06T12:20:08Z", "author_association": "MEMBER", "body": "Also I now realized that I read the whole discussion too quickly and that the bug only happens with python 2.7. Will try again.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/230757786", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-230757786", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 230757786, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDc1Nzc4Ng==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-06T12:31:54Z", "updated_at": "2016-07-06T12:31:54Z", "author_association": "MEMBER", "body": "I cannot reproduce either with python 2.7.12 from conda on OSX 10.11.3 either.\n\nActually @Ekliptor can reproduce the issue with python 3.5.1 from conda so it's probably not related to the version of Python either. Maybe it depends on the minor version of OSX. Will upgrade and retry.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/230764051", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-230764051", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 230764051, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDc2NDA1MQ==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-06T13:00:53Z", "updated_at": "2016-07-06T13:00:53Z", "author_association": "MEMBER", "body": "I cannot replicate either with OSX 10.11.5. I tried both with Python 2.7.12 and 3.5.2 installed with conda along with numpy 1.11.1, scipy 0.17.1 and scikit-learn 0.17.1.\n\nI don't know what to do. If one of you can reproduce the problem, please try to find a numpy random seed that trigger the issue (using `np.random.seed(my_seed)` instead of `random.seed(1)` in the above snippet) and communicate the value here (along with the version of OSX and you python packages).\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/231707098", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-231707098", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 231707098, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTcwNzA5OA==", "user": {"login": "Ekliptor", "id": 14872773, "node_id": "MDQ6VXNlcjE0ODcyNzcz", "avatar_url": "https://avatars3.githubusercontent.com/u/14872773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ekliptor", "html_url": "https://github.com/Ekliptor", "followers_url": "https://api.github.com/users/Ekliptor/followers", "following_url": "https://api.github.com/users/Ekliptor/following{/other_user}", "gists_url": "https://api.github.com/users/Ekliptor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ekliptor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ekliptor/subscriptions", "organizations_url": "https://api.github.com/users/Ekliptor/orgs", "repos_url": "https://api.github.com/users/Ekliptor/repos", "events_url": "https://api.github.com/users/Ekliptor/events{/privacy}", "received_events_url": "https://api.github.com/users/Ekliptor/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-11T11:16:39Z", "updated_at": "2016-07-11T11:17:32Z", "author_association": "NONE", "body": "I can confirm the issue is fixed with the latest version. I can not reproduce it anymore as before.\nI only updated numpy:\nnumpy.version.version 1.11.1\n\nTo all people working with Tensorflow I can add:\nWhen I try to plot a very small sample (< 200 points) I sometimes still run into this error. After increasing the sample size I pass into tsne.fit_transform() it always works.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/231714353", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-231714353", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 231714353, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTcxNDM1Mw==", "user": {"login": "ogrisel", "id": 89061, "node_id": "MDQ6VXNlcjg5MDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/89061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogrisel", "html_url": "https://github.com/ogrisel", "followers_url": "https://api.github.com/users/ogrisel/followers", "following_url": "https://api.github.com/users/ogrisel/following{/other_user}", "gists_url": "https://api.github.com/users/ogrisel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogrisel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogrisel/subscriptions", "organizations_url": "https://api.github.com/users/ogrisel/orgs", "repos_url": "https://api.github.com/users/ogrisel/repos", "events_url": "https://api.github.com/users/ogrisel/events{/privacy}", "received_events_url": "https://api.github.com/users/ogrisel/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-11T11:59:00Z", "updated_at": "2016-07-11T11:59:00Z", "author_association": "MEMBER", "body": "Thanks @Ekliptor for checking that it works with scikit-learn master. @joelkuiper and @Concomitant do you confirm that scikit-learn master also work for you? If so we can close this issue.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/231739850", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-231739850", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 231739850, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTczOTg1MA==", "user": {"login": "Concomitant", "id": 6643701, "node_id": "MDQ6VXNlcjY2NDM3MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6643701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Concomitant", "html_url": "https://github.com/Concomitant", "followers_url": "https://api.github.com/users/Concomitant/followers", "following_url": "https://api.github.com/users/Concomitant/following{/other_user}", "gists_url": "https://api.github.com/users/Concomitant/gists{/gist_id}", "starred_url": "https://api.github.com/users/Concomitant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Concomitant/subscriptions", "organizations_url": "https://api.github.com/users/Concomitant/orgs", "repos_url": "https://api.github.com/users/Concomitant/repos", "events_url": "https://api.github.com/users/Concomitant/events{/privacy}", "received_events_url": "https://api.github.com/users/Concomitant/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-11T13:50:44Z", "updated_at": "2016-07-11T13:50:44Z", "author_association": "NONE", "body": "I installed master, the code snippet runs cleanly now.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/236010698", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-236010698", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 236010698, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjAxMDY5OA==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-28T20:11:12Z", "updated_at": "2016-07-28T20:11:12Z", "author_association": "MEMBER", "body": "seems to work for everybody now. closing.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/236676824", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-236676824", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 236676824, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjY3NjgyNA==", "user": {"login": "dmyersturnbull", "id": 3979879, "node_id": "MDQ6VXNlcjM5Nzk4Nzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/3979879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmyersturnbull", "html_url": "https://github.com/dmyersturnbull", "followers_url": "https://api.github.com/users/dmyersturnbull/followers", "following_url": "https://api.github.com/users/dmyersturnbull/following{/other_user}", "gists_url": "https://api.github.com/users/dmyersturnbull/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmyersturnbull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmyersturnbull/subscriptions", "organizations_url": "https://api.github.com/users/dmyersturnbull/orgs", "repos_url": "https://api.github.com/users/dmyersturnbull/repos", "events_url": "https://api.github.com/users/dmyersturnbull/events{/privacy}", "received_events_url": "https://api.github.com/users/dmyersturnbull/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-01T19:09:27Z", "updated_at": "2016-08-01T19:09:27Z", "author_association": "NONE", "body": "Sorry, but I still get this on Python 3.5.1, scikit 0.17, scikit-learn 0.18 (commit 9e913c04d748), and Numpy 1.11.1 on Mac OS 10.11.5.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/236781161", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-236781161", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 236781161, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjc4MTE2MQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-02T03:00:46Z", "updated_at": "2016-08-02T03:00:46Z", "author_association": "MEMBER", "body": "@dmyersturnbull do you get the error when running the snippet from https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-218365487?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/236990995", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-236990995", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 236990995, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjk5MDk5NQ==", "user": {"login": "dmyersturnbull", "id": 3979879, "node_id": "MDQ6VXNlcjM5Nzk4Nzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/3979879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmyersturnbull", "html_url": "https://github.com/dmyersturnbull", "followers_url": "https://api.github.com/users/dmyersturnbull/followers", "following_url": "https://api.github.com/users/dmyersturnbull/following{/other_user}", "gists_url": "https://api.github.com/users/dmyersturnbull/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmyersturnbull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmyersturnbull/subscriptions", "organizations_url": "https://api.github.com/users/dmyersturnbull/orgs", "repos_url": "https://api.github.com/users/dmyersturnbull/repos", "events_url": "https://api.github.com/users/dmyersturnbull/events{/privacy}", "received_events_url": "https://api.github.com/users/dmyersturnbull/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-02T18:08:16Z", "updated_at": "2016-08-02T18:08:16Z", "author_association": "NONE", "body": "@lesteve I did with that exact snippet, yes. However, I no longer get it after clearing my Anaconda installation and reinstalling from scratch with Python 3.5.2.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/238640919", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-238640919", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 238640919, "node_id": "MDEyOklzc3VlQ29tbWVudDIzODY0MDkxOQ==", "user": {"login": "jna29", "id": 10117587, "node_id": "MDQ6VXNlcjEwMTE3NTg3", "avatar_url": "https://avatars1.githubusercontent.com/u/10117587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jna29", "html_url": "https://github.com/jna29", "followers_url": "https://api.github.com/users/jna29/followers", "following_url": "https://api.github.com/users/jna29/following{/other_user}", "gists_url": "https://api.github.com/users/jna29/gists{/gist_id}", "starred_url": "https://api.github.com/users/jna29/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jna29/subscriptions", "organizations_url": "https://api.github.com/users/jna29/orgs", "repos_url": "https://api.github.com/users/jna29/repos", "events_url": "https://api.github.com/users/jna29/events{/privacy}", "received_events_url": "https://api.github.com/users/jna29/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-09T18:12:18Z", "updated_at": "2016-08-09T18:12:18Z", "author_association": "NONE", "body": "I get the same problem with Python 3.5.2, scikit-learn 0.17.1, scipy 0.17.1, numpy 1.11.1 on Mac OS X El Capitan 10.11.3. It works when I have more than 2100 points but fails for lower values.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/241988872", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-241988872", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 241988872, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTk4ODg3Mg==", "user": {"login": "lucidyan", "id": 5789108, "node_id": "MDQ6VXNlcjU3ODkxMDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5789108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucidyan", "html_url": "https://github.com/lucidyan", "followers_url": "https://api.github.com/users/lucidyan/followers", "following_url": "https://api.github.com/users/lucidyan/following{/other_user}", "gists_url": "https://api.github.com/users/lucidyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucidyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucidyan/subscriptions", "organizations_url": "https://api.github.com/users/lucidyan/orgs", "repos_url": "https://api.github.com/users/lucidyan/repos", "events_url": "https://api.github.com/users/lucidyan/events{/privacy}", "received_events_url": "https://api.github.com/users/lucidyan/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-24T08:09:09Z", "updated_at": "2016-08-24T08:09:42Z", "author_association": "NONE", "body": "> I get the same problem with Python 3.5.2, scikit-learn 0.17.1, scipy 0.17.1, numpy 1.11.1 on Mac OS X El Capitan 10.11.3. It works when I have more than 2100 points but fails for lower values.\n\nAnalogically **fails for low points' values**\n\nReopen, please\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/243751771", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-243751771", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 243751771, "node_id": "MDEyOklzc3VlQ29tbWVudDI0Mzc1MTc3MQ==", "user": {"login": "pbnsilva", "id": 2334434, "node_id": "MDQ6VXNlcjIzMzQ0MzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2334434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbnsilva", "html_url": "https://github.com/pbnsilva", "followers_url": "https://api.github.com/users/pbnsilva/followers", "following_url": "https://api.github.com/users/pbnsilva/following{/other_user}", "gists_url": "https://api.github.com/users/pbnsilva/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbnsilva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbnsilva/subscriptions", "organizations_url": "https://api.github.com/users/pbnsilva/orgs", "repos_url": "https://api.github.com/users/pbnsilva/repos", "events_url": "https://api.github.com/users/pbnsilva/events{/privacy}", "received_events_url": "https://api.github.com/users/pbnsilva/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-31T12:43:21Z", "updated_at": "2016-08-31T12:43:21Z", "author_association": "NONE", "body": "I am getting the same problem on OS X 10.11.6, python 3.5.1,  sklearn 0.17.1 and numpy 1.11.1 .\nOn this dataset: https://dl.dropboxusercontent.com/u/103591/vals.out (with np.savetxt)\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/243782185", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-243782185", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 243782185, "node_id": "MDEyOklzc3VlQ29tbWVudDI0Mzc4MjE4NQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-31T14:29:27Z", "updated_at": "2016-08-31T14:30:00Z", "author_association": "MEMBER", "body": "> Analogically fails for low points' values\n\n@Lucidyan I don't understand what you mean by that.\n\n> I am getting the same problem on OS X 10.11.6, python 3.5.1,  sklearn 0.17.1 and numpy 1.11.1 .\n> On this dataset: https://dl.dropboxusercontent.com/u/103591/vals.out (with np.savetxt)\n\n@pbnsilva can you try this snippet posted below ? You may need to run it multiple times because unfortunately the seed is not set appropriately (you need to use `np.random.seed` rather than `random.seed`).\n\n``` py\nimport random\nfrom sklearn.manifold import TSNE\nrandom.seed(1)\na = np.random.uniform(size=(100,20))\nTSNE(n_components=2).fit_transform(a)\n```\n\nBonus points if you can find a seed argument to `np.random.seed` and a `random_state` argument to `TSNE` that makes the snippet deterministic.\n\nAlternatively some people reported that this bug was fixed in master. Could you try to build scikit-learn master to see whether the problem disappears ?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/244369017", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-244369017", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 244369017, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDM2OTAxNw==", "user": {"login": "lucidyan", "id": 5789108, "node_id": "MDQ6VXNlcjU3ODkxMDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5789108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucidyan", "html_url": "https://github.com/lucidyan", "followers_url": "https://api.github.com/users/lucidyan/followers", "following_url": "https://api.github.com/users/lucidyan/following{/other_user}", "gists_url": "https://api.github.com/users/lucidyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucidyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucidyan/subscriptions", "organizations_url": "https://api.github.com/users/lucidyan/orgs", "repos_url": "https://api.github.com/users/lucidyan/repos", "events_url": "https://api.github.com/users/lucidyan/events{/privacy}", "received_events_url": "https://api.github.com/users/lucidyan/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-02T13:04:18Z", "updated_at": "2016-09-02T13:04:18Z", "author_association": "NONE", "body": "@lesteve I meant that I get the same error with a small number of instances, with the same system parameters (Python 3.5.2, scikit-learn 0.17.1, scipy 0.17.1, numpy 1.11.1 on Mac OS X El Capitan 10.11.3)\n\n> @pbnsilva can you try this snippet posted below ? You may need to run it multiple times because unfortunately the seed is not set appropriately (you need to use np.random.seed rather than random.seed).\n\nI tried it, and it fails with X_SIZE <= 1750 (Y_SIZE=20, n_components=2 became constants). if I start to change the constants (increase) with fixed X_SIZE=1750, it fails too.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/244867154", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-244867154", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 244867154, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDg2NzE1NA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-06T07:07:32Z", "updated_at": "2016-09-06T07:07:32Z", "author_association": "MEMBER", "body": "@Lucidyan could you try the same snippet with scikit-learn master and see whether it fails too ?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/248229386", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-248229386", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 248229386, "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODIyOTM4Ng==", "user": {"login": "act65", "id": 6046380, "node_id": "MDQ6VXNlcjYwNDYzODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6046380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/act65", "html_url": "https://github.com/act65", "followers_url": "https://api.github.com/users/act65/followers", "following_url": "https://api.github.com/users/act65/following{/other_user}", "gists_url": "https://api.github.com/users/act65/gists{/gist_id}", "starred_url": "https://api.github.com/users/act65/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/act65/subscriptions", "organizations_url": "https://api.github.com/users/act65/orgs", "repos_url": "https://api.github.com/users/act65/repos", "events_url": "https://api.github.com/users/act65/events{/privacy}", "received_events_url": "https://api.github.com/users/act65/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-20T07:49:44Z", "updated_at": "2016-09-20T07:49:44Z", "author_association": "NONE", "body": "yea not working for me (numpy 1.11.1, El capitan.10.11, sklearn 0.17.1, python 3.5.2) annoyingly it has broken old code that did work. what did you guys change...?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/248237094", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-248237094", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 248237094, "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODIzNzA5NA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-20T08:26:09Z", "updated_at": "2016-11-02T07:49:27Z", "author_association": "MEMBER", "body": "@act65 we are more than keen to get to the bottom of this but we haven't been able to reproduce and it seems like we are getting mixed reports from users so far unfortunately.\n\nSo if you haven't already (unfortunately we are not mind readers and \"not working for me\" does not tell us what you tried) could you try to run the snippet mentioned above in https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-243782185. Try to run it multiple times just in case because the random seed is not set properly and there may be some randomness left in the snippet.\n\nThen what would be really great if you could try with the 0.18 release candidate which is straightforward to install (highly recommended to do it in a separate virtualenv or conda env):\n\n```\npip install --pre scikit-learn -U\n```\n\n**Edited: 0.18 has been released so you can just use (no need to use `--pre`):**\n\n```\npip install scikit-learn -U\n```\n\nand re-run the snippet to see whether it is fixed in 0.18 as some users have reported in this thread already.\n\n0.18 is going to be released in a few weeks if not days so you know what you have to do if you want to help us to get to the bottom of this before the release ;-).\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/248242974", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-248242974", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 248242974, "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODI0Mjk3NA==", "user": {"login": "act65", "id": 6046380, "node_id": "MDQ6VXNlcjYwNDYzODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6046380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/act65", "html_url": "https://github.com/act65", "followers_url": "https://api.github.com/users/act65/followers", "following_url": "https://api.github.com/users/act65/following{/other_user}", "gists_url": "https://api.github.com/users/act65/gists{/gist_id}", "starred_url": "https://api.github.com/users/act65/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/act65/subscriptions", "organizations_url": "https://api.github.com/users/act65/orgs", "repos_url": "https://api.github.com/users/act65/repos", "events_url": "https://api.github.com/users/act65/events{/privacy}", "received_events_url": "https://api.github.com/users/act65/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-20T08:53:22Z", "updated_at": "2016-09-20T08:53:22Z", "author_association": "NONE", "body": "yea my bad, should have been clearer. (I had tried roughly the same thing others had, just on MNIST). \n\nanyway, it works! thanks :)\n`pip install --pre scikit-learn -U` fixed it\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/248246114", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-248246114", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 248246114, "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODI0NjExNA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-20T09:07:45Z", "updated_at": "2016-09-20T09:07:45Z", "author_association": "MEMBER", "body": "OK, thanks for reporting back and great to hear that this is fixed for you in the 0.18 release candidate ! This seems to match what other have reported when they say it was fixed in master.\n\nJust for completeness though, it is recommended to stick to released versions for production code, so you may need to wait a little bit more until the 0.18 release is out.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/248415997", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-248415997", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 248415997, "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODQxNTk5Nw==", "user": {"login": "lucidyan", "id": 5789108, "node_id": "MDQ6VXNlcjU3ODkxMDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5789108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucidyan", "html_url": "https://github.com/lucidyan", "followers_url": "https://api.github.com/users/lucidyan/followers", "following_url": "https://api.github.com/users/lucidyan/following{/other_user}", "gists_url": "https://api.github.com/users/lucidyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucidyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucidyan/subscriptions", "organizations_url": "https://api.github.com/users/lucidyan/orgs", "repos_url": "https://api.github.com/users/lucidyan/repos", "events_url": "https://api.github.com/users/lucidyan/events{/privacy}", "received_events_url": "https://api.github.com/users/lucidyan/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-20T19:57:41Z", "updated_at": "2016-09-20T19:57:41Z", "author_association": "NONE", "body": "@lesteve \nI tried the [snippet](https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-243782185) on version 0.18rc2, installed by\n\n> pip install --pre scikit-learn -U\n\nAnd it seems working! Cheers!\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/248522272", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-248522272", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 248522272, "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODUyMjI3Mg==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-21T06:22:18Z", "updated_at": "2016-09-21T06:22:18Z", "author_association": "MEMBER", "body": "Thanks @Lucidyan for giving it a try.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/257409510", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-257409510", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 257409510, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzQwOTUxMA==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-31T20:22:22Z", "updated_at": "2016-11-01T15:59:38Z", "author_association": "NONE", "body": "Sorry, I'm still getting this error with above code snippet after upgrading to scikit-learn 0.18 (`pip install --pre scikit-learn -U`) in conda env.\n\nHere is my system info:\nOS X El Capitan Version 10.11.4\nPython 2.7.12\nsklearn 0.18 (got the the same error on sklearn 0.17.1 as well)\nnumpy 1.11.1 ( got the same error on numpy 1.11.2 as well)\nscipy 0.18.1\n\nHowever, I ran the same code snippet on Linux system, I didn't get an error.\nThe system info of the Linux system is:\nUbuntu 14.04.5 LTS (GNU/Linux 3.13.0-91-generic x86_64)\nPython 2.7.6 \nsklearn 0.18\nnumpy 1.11.2\nscipy 0.13.3\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/257795128", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-257795128", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 257795128, "node_id": "MDEyOklzc3VlQ29tbWVudDI1Nzc5NTEyOA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-02T07:51:37Z", "updated_at": "2016-11-02T07:51:37Z", "author_association": "MEMBER", "body": "Try uninstalling and reinstalling numpy, scipy and scikit-learn. If that still fails, try in a different virtualenv (or conda environment if you are using conda) to make sure something is not wrong in your Python environment.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258169143", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258169143", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258169143, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODE2OTE0Mw==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T15:04:59Z", "updated_at": "2016-11-03T15:04:59Z", "author_association": "CONTRIBUTOR", "body": "Still get the same error (`ValueError: array must not contain infs or NaNs`) in sklearn 0.18  (`0.18-np111py35_0`) via conda. The pip wheels seem to work fine though!\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258187545", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258187545", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258187545, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODE4NzU0NQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T16:02:13Z", "updated_at": "2016-11-03T16:05:09Z", "author_association": "MEMBER", "body": "> Still get the same error (ValueError: array must not contain infs or NaNs) in sklearn 0.18 (0.18-np111py35_0) via conda. The pip wheels seem to work fine though!\n\nHmmm interesting ... could you try using conda packages without mkl, i.e. something like `conda create -n sklearn_nomkl python scikit-learn nomkl` so we can see whether that is a MKL vs openblas thing?\n\nAlso bonus points if you can provide a snippet reproducing the problem with a fixed random seed (i.e. using `np.random.RandomState(some_int)`) that can be used as a reference snippet going forward. Up until now the snippet we have is non-deterministic (`random.seed` is used and has no influence of numpy.random seed).\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258195181", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258195181", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258195181, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODE5NTE4MQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T16:26:24Z", "updated_at": "2016-11-03T16:32:17Z", "author_association": "CONTRIBUTOR", "body": "Sure, no problem. This may be be a BLAS problem indeed, the `conda create -n sklearn_nomkl python scikit-learn nomkl` env works fine.\n\nRegarding the snippet ... this gets interesting. E.g., \n\n``` python\nfrom sklearn.manifold import TSNE\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.datasets import load_digits\n\ndigits = load_digits()\n\nX_train, X_test, y_train, y_test = train_test_split(digits.data, \n                                                    digits.target, \n                                                    random_state=1)\n\ntsne = TSNE(random_state=1)\ndigits_tsne_train = tsne.fit_transform(X_train)\n```\n\nreproduces the problem on my machine. However, when I replace `digits_tsne_train = tsne.fit_transform(X_train)` by `digits_tsne_train = tsne.fit_transform(digits.data)` it seems to be fine. Would be good to find a more light-weight example maybe, to add this particular case to the travis tests.\n\nEDIT: Same is true for iris. `iris.data` works in fit_transform, a splitted dataset (`X_train`) does not. Maybe there's sth funny going on in `train_test_split`. However, both `X_train` and `iris.data` seem to be float 64 arrays ... \n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258202304", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258202304", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258202304, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODIwMjMwNA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T16:49:30Z", "updated_at": "2016-11-03T16:49:30Z", "author_association": "MEMBER", "body": "What about the snippet from https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-243782185, you didn't find a way to make it deterministic and still fail on your machine?\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258220916", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258220916", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258220916, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODIyMDkxNg==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T17:49:28Z", "updated_at": "2016-11-03T17:49:28Z", "author_association": "CONTRIBUTOR", "body": "The snippet\n\n``` python\nimport numpy as np\nfrom sklearn.manifold import TSNE\n\nnp.random.seed(1)\n\na = np.random.uniform(size=(100, 20))\nTSNE(n_components=2, random_state=1).fit_transform(a)\n```\n\nreproduces the error (but it works fine on the nomkl env)\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258280132", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258280132", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258280132, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODI4MDEzMg==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T21:30:51Z", "updated_at": "2016-11-03T21:31:19Z", "author_association": "MEMBER", "body": "OK thanks a lot for this, at least we have a deterministic snippet now. For the record, can you post the output of this snippet:\n\n``` python\nimport platform; print(platform.platform())\nimport sys; print(\"Python\", sys.version)\nimport numpy; print(\"NumPy\", numpy.__version__)\nimport scipy; print(\"SciPy\", scipy.__version__)\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\n```\n\nAlso, just for the sake of sanity, can you make sure you can reproduce the problem in a fresh conda environment.\n\nTo be honest, I am not sure where we go from this. I haven't tried since but I was not able to reproduce on an El Capital Virtual box, @ogrisel could not reproduce either on a OSX laptop, so at the time he said there might be some hardware-specific problem involved.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258286124", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258286124", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258286124, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODI4NjEyNA==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T21:55:55Z", "updated_at": "2016-11-03T21:55:55Z", "author_association": "CONTRIBUTOR", "body": "Sure,\n\nthe machine that causes this problem:\n\n```\nDarwin-16.1.0-x86_64-i386-64bit\nPython 3.5.2 |Continuum Analytics, Inc.| (default, Jul  2 2016, 17:52:12) \n[GCC 4.2.1 Compatible Apple LLVM 4.2 (clang-425.0.28)]\nNumPy 1.11.2\nSciPy 0.18.1\nScikit-Learn 0.18\n```\n\n(tested it in a fresh conda environment)\n\n> there might be some hardware-specific problem involved.\n\nI think you may be onto sth! I tried it on my other mac, and it works fine there. The only difference is to the output above it is running on an older kernel (`Darwin-15.6.0-x86_64-i386-64bit`). Haven't updated the second mac to macOS Sierra yet, which is running on the former machine that has this problem. Could be OS-related. I will upgrade the second machine to Sierra in the next month or so (I am in the middle of a project and don't want to break things), but I can let you know if the update to Sierra leads to this issue on the second machine (or maybe someone else with macOS Sierra could test it so that we now if it is an OS thing)\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258300015", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258300015", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258300015, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODMwMDAxNQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T23:03:02Z", "updated_at": "2016-11-03T23:03:02Z", "author_association": "MEMBER", "body": "Given that the problem has been reported on different OSX versions, I kind of doubt this is only a OSX version issue. IIRC @ogrisel's hunch was that it was CPU architecture related.\n\nAnother (more time-intensive) way to debug this problem would be to track down where the NaNs appear in the code.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258302591", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258302591", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258302591, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODMwMjU5MQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T23:17:19Z", "updated_at": "2016-11-03T23:17:19Z", "author_association": "CONTRIBUTOR", "body": ">  IIRC @ogrisel's hunch was that it was CPU architecture related.\n\nHm, how would the conda scikit-learn version differ from the pip wheels? Because the latter seem to work on the same machine. Maybe it's somehow related to conda\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258311980", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258311980", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258311980, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODMxMTk4MA==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-04T00:14:05Z", "updated_at": "2016-11-04T00:14:21Z", "author_association": "CONTRIBUTOR", "body": "> Another (more time-intensive) way to debug this problem would be to track down where the NaNs appear in the code.\n\nI noticed that the gradient in https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/manifold/t_sne.py#L387 explodes, until it becomes `-inf` in one position after the 25th iteration in the https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/manifold/t_sne.py#L386 for-loop\n\n``` python\n...\n   0.00000000e+00   0.00000000e+00   0.00000000e+00   0.00000000e+00\n   0.00000000e+00   0.00000000e+00   6.06587795e+32  -1.10699515e+33\n  -1.55245133e+34              inf  -1.52569936e+33  -3.43926080e+33\n  -1.92332051e+32  -2.73996151e+32  -2.57570880e+33  -3.64962271e+33\n...\n```\n\nOn the other machine (the one that works fine), the gradients are all < 0 after the same iteration. So, somehow the `_gradient_descent` function doesn't work properly (maybe due to some BLAS thing). \n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258353156", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258353156", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258353156, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODM1MzE1Ng==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-04T06:18:18Z", "updated_at": "2016-11-04T06:18:18Z", "author_association": "MEMBER", "body": "> Hm, how would the conda scikit-learn version differ from the pip wheels? Because the latter seem to work on the same machine. Maybe it's somehow related to conda\n\nThe pip wheels are using OpenBLAS and you don't have the problem when using OpenBLAS with conda (through the `nomkl` trick) so this does look like a MKL problem, which on top of that is likely CPU-specific.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/258360435", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258360435", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 258360435, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODM2MDQzNQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-04T07:20:38Z", "updated_at": "2016-11-04T07:20:50Z", "author_association": "MEMBER", "body": "Great job debugging the issue by the way! Bonus points if you manage to further isolate the problem (e.g. by pickling the data before the iteration `inf` appear). The problem arises very likely in some cython code in sklearn/manifold/_barnes_hut_tsne.pyx.\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262091146", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262091146", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262091146, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjA5MTE0Ng==", "user": {"login": "luisatlive", "id": 11302842, "node_id": "MDQ6VXNlcjExMzAyODQy", "avatar_url": "https://avatars0.githubusercontent.com/u/11302842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luisatlive", "html_url": "https://github.com/luisatlive", "followers_url": "https://api.github.com/users/luisatlive/followers", "following_url": "https://api.github.com/users/luisatlive/following{/other_user}", "gists_url": "https://api.github.com/users/luisatlive/gists{/gist_id}", "starred_url": "https://api.github.com/users/luisatlive/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luisatlive/subscriptions", "organizations_url": "https://api.github.com/users/luisatlive/orgs", "repos_url": "https://api.github.com/users/luisatlive/repos", "events_url": "https://api.github.com/users/luisatlive/events{/privacy}", "received_events_url": "https://api.github.com/users/luisatlive/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-21T22:43:19Z", "updated_at": "2016-11-21T22:45:28Z", "author_association": "NONE", "body": "Shouldn't this issue be re-opened given the latest findings? I hit it as well and also managed to get past it with the nomkl trick, but feels like an active bug vs. a closed one, no?\r\n\r\nOthers that have been hitting this: https://discussions.udacity.com/t/assignment-5-error-in-the-main-code-valueerror-array-must-not-contain-infs-or-nans/178187/7"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262167864", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262167864", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262167864, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjE2Nzg2NA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-22T07:32:58Z", "updated_at": "2016-11-22T07:33:09Z", "author_association": "MEMBER", "body": "You are right, reopening. This one is a serious one, seems hardware specific and none of the core devs could reproduce it. The only way this can get fixed is if people having the issue invest some time in debugging the problem further."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262315075", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262315075", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262315075, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjMxNTA3NQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-22T17:55:54Z", "updated_at": "2016-11-22T17:55:54Z", "author_association": "CONTRIBUTOR", "body": "> Great job debugging the issue by the way! Bonus points if you manage to further isolate the problem (e.g. by pickling the data before the iteration inf appear). The problem arises very likely in some cython code in sklearn/manifold/_barnes_hut_tsne.pyx.\r\n\r\nI am happy to look into it further in December after all the November deadlines ... However, even this can be further isolated, I am curious if there's a fix for such a hardware-specific problem. Maybe, until this is fully resolved, it may be worthwhile to raise a more specific exception/warning if the gradient contains infs with a note about this problem?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262318360", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262318360", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262318360, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjMxODM2MA==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-22T18:07:38Z", "updated_at": "2016-11-22T18:07:38Z", "author_association": "NONE", "body": "I just created a new conda virtualenv and built a devp version of sklearn from the source code freshly forked from the sciki-learn master branch, the error disappeared. Is the devp sklearn built from source code using OpenBLAS instead of MKL?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262392585", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262392585", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262392585, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjM5MjU4NQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-22T23:04:33Z", "updated_at": "2016-11-22T23:04:33Z", "author_association": "MEMBER", "body": "> I am happy to look into it further in December after all the November deadlines ... \r\n\r\nSounds great, thanks a lot !\r\n\r\n> However, even this can be further isolated, I am curious if there's a fix for such a hardware-specific problem.\r\n\r\nNot sure about a fix, one hope would be if we can change our cython code to work-around problem once we have isolated it. Also it could well be an openblas issue and that would be great reporting it upstream, especially since wheels use openblas.\r\n\r\n> Maybe, until this is fully resolved, it may be worthwhile to raise a more specific exception/warning if the gradient contains infs with a note about this problem?\r\n\r\nAdding some advice to the error message (only on OS X), sounds like a good idea, but I am not sure what it should say, maybe \"consider using conda and install scikit-learn with MKL\" or something like this."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262394367", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262394367", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262394367, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjM5NDM2Nw==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-22T23:13:42Z", "updated_at": "2016-11-22T23:13:42Z", "author_association": "MEMBER", "body": "> Is the devp sklearn built from source code using OpenBLAS instead of MKL?\r\n\r\n@zhongyuk depends which library you have installed. One way to know once you have built scikit-learn from source is to run the equivalent of `ldd` (Google seems to say `otool -L`) on `sklearn/cluster/_k_means.so` (name will be different if you are using Python 3, i.e. something like `sklearn/cluster/_k_means.cpython-35m-x86_64-linux-gnu.so `). On my Ubuntu machine for example, I get this:\r\n\r\n```\r\nsklearn/cluster/_k_means.so:\r\n        linux-vdso.so.1 =>  (0x00007ffc2312a000)\r\n        libmkl_intel_lp64.so => /home/lesteve/miniconda3/envs/py27/lib/libmkl_intel_lp64.so (0x00007fadc2865000)\r\n        libmkl_intel_thread.so => /home/lesteve/miniconda3/envs/py27/lib/libmkl_intel_thread.so (0x00007fadc0ee4000)\r\n        libmkl_core.so => /home/lesteve/miniconda3/envs/py27/lib/libmkl_core.so (0x00007fadbf483000)\r\n        libiomp5.so => /home/lesteve/miniconda3/envs/py27/lib/libiomp5.so (0x00007fadbf139000)\r\n        libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fadbeeeb000)\r\n        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fadbebe1000)\r\n        libpython2.7.so.1.0 => /home/lesteve/miniconda3/envs/py27/lib/libpython2.7.so.1.0 (0x00007fadbe7fa000)\r\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fadbe431000)\r\n        libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fadbe22c000)\r\n        libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fadbe016000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x0000563bdeda1000)\r\n        libutil.so.1 => /lib/x86_64-linux-gnu/libutil.so.1 (0x00007fadbde12000)\r\n```\r\n\r\nSo you can see from the third line, that it is using MKL."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262395347", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262395347", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262395347, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjM5NTM0Nw==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-22T23:18:44Z", "updated_at": "2016-11-22T23:18:44Z", "author_association": "CONTRIBUTOR", "body": "> but I am not sure what it should say, maybe \"consider using conda and install scikit-learn with MKL\" or something like this.\r\n\r\nI just wanted to write that I think you got it flipped: the wheels worked find and the issue only occured when I was using it via conda with MKL ... Now, I think I have good news in some way: I just wanted to rerun the above example that previously caused this issue to confirm\r\n\r\n```python\r\nimport numpy as np\r\nfrom sklearn.manifold import TSNE\r\n\r\nnp.random.seed(1)\r\n\r\na = np.random.uniform(size=(100, 20))\r\nTSNE(n_components=2, random_state=1).fit_transform(a)\r\n```\r\n\r\nand I am no longer getting this problem. I remember that I reininstalled miniconda the other week due to some other problems. Do you think it could be related to some issue in the old conda? Would be great if some other people who had this issue could maybe also try updating/reinstalling conda and check if that solves the problem for them. Meanwhile, I will try to see if I can find an old backupstate to find out which conda version I had installed previously. (right now, I have conda 4.2.12)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262408448", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262408448", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262408448, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjQwODQ0OA==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-23T00:41:04Z", "updated_at": "2016-11-23T00:41:04Z", "author_association": "NONE", "body": "Just wanna say that I ran `otool -L` on `sklearn/manifold/_barnes_hut_tsne.so` (I assume this is the t_sne.py compiled file?), it seems like it's indeed using BLAS. And the one which threw error seems to use MKL..\r\n\r\nThe conda version I have is 4.2.13, both the env which throws the error and the env with source built sklearn (which does not throw error) are inside conda.\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262413827", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262413827", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262413827, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjQxMzgyNw==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-23T01:17:51Z", "updated_at": "2016-11-23T01:18:40Z", "author_association": "CONTRIBUTOR", "body": "Hm, interesting, so it's not a conda issue after all then ... Curious why it works for me now :/\r\n(all I can think that has changed (except for reinstalling conda) was rebooting :P)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262462808", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262462808", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262462808, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjQ2MjgwOA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-23T09:07:09Z", "updated_at": "2016-11-23T09:07:09Z", "author_association": "MEMBER", "body": "> I just wanted to write that I think you got it flipped: the wheels worked find and the issue only occured when I was using it via conda with MKL\r\n\r\nYeah, sorry about that. I'll edit the issue title to try to remember it right for next time.\r\n\r\n> Hm, interesting, so it's not a conda issue after all then ... Curious why it works for me now :/\r\n(all I can think that has changed (except for reinstalling conda) was rebooting :P)\r\n\r\nHmmm, random guess maybe the mkl version, although if I believe the output of `conda info mkl` the latest mkl version (11.3.3) is from 2016-05-13."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262464650", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262464650", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262464650, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjQ2NDY1MA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-23T09:17:33Z", "updated_at": "2016-11-23T09:17:33Z", "author_association": "MEMBER", "body": "@zhongyuk try to build scikit-learn inside a conda env that uses mkl, I believe this should be enough for mkl to be picked up (probably a good idea in this case to do `make clean` and then `make in` to rebuild from scratch)."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262688532", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262688532", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262688532, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjY4ODUzMg==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-24T04:37:26Z", "updated_at": "2016-11-24T04:38:24Z", "author_association": "NONE", "body": "@lesteve I built scikit-learn in two conda virtual environments from source code (branch 0.18 release), the one uses MKL indeed throws the error; the one uses libBLAS does not throw error. \r\n\r\nThe output running `otool -L` on `sklearn/manifold/_barnes_hut_tsne.so` is here (in case MKL version gives you any clue?)\r\n\r\n```@rpath/libmkl_intel_lp64.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n     @rpath/libmkl_intel_thread.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n     @rpath/libmkl_core.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n     @rpath/libiomp5.dylib (compatibility version 5.0.0, current version 5.0.0)\r\n     /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262704351", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262704351", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262704351, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjcwNDM1MQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-24T07:02:04Z", "updated_at": "2016-11-24T07:02:20Z", "author_association": "MEMBER", "body": "@zhongyuk great ! For completeness, can you post the output of `conda list '(mkl|cython|numpy|scipy)$'` (in your MKL conda environment)? While we are at it your CPU information (`sysctl -n machdep.cpu.brand_string` according to Google) and your platform information (`python -c 'import platform; print(platform.platform())'`) would be great.\r\n\r\nWhat would be really great is to continue where @rabst stopped and further isolate the problem:\r\nhttps://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-258311980\r\n\r\nSince this is related to BLAS, my hunch is that something goes wrong in this [line](https://github.com/scikit-learn/scikit-learn/blob/46fc1be145bf952a916ef5abd06efec105105c2e/sklearn/manifold/_barnes_hut_tsne.pyx#L660) causing the gradient to have some non-finite values."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262800762", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262800762", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262800762, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjgwMDc2Mg==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-24T15:28:26Z", "updated_at": "2016-11-24T15:32:58Z", "author_association": "NONE", "body": "@lesteve Output of conda MKL environment info:\r\n```\r\nCython                    0.25.1                    <pip>\r\nmkl                       11.3.3                        0  \r\nnumpy                     1.11.1                    <pip>\r\nnumpy                     1.11.1                   py27_0 \r\nscipy                     0.18.1              np111py27_0 \r\n```\r\n\r\nCPU info: `Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz`\r\nPlatform info: `Darwin-15.4.0-x86_64-i386-64bit`\r\n\r\nI'll look into the gradient exploding issue that @rabst found in the other comment and the line you pointed out sometime this week and/or next week, I'll keep everyone updated with any interesting findings."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262855241", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262855241", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262855241, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg1NTI0MQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-24T23:22:17Z", "updated_at": "2016-11-24T23:22:17Z", "author_association": "CONTRIBUTOR", "body": "@zhongyuk If it helps, I have a very similar setup (can't reproduce the issue anymore since reinstalling miniconda), except that I have macOS Sierra instead of OS X El Capitan and that I have numpy 1.11.2 instead of 1.11.1."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262855810", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262855810", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262855810, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg1NTgxMA==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-24T23:31:22Z", "updated_at": "2016-11-24T23:31:22Z", "author_association": "NONE", "body": "@rasbt hmm, I wonder if the problem goes away in Sierra... I don't want to upgrade OS yet b/z I thought I read somewhere that TensorFlow doesn't support Sierra yet (could be mistaken or no longer be true anymore since I don't remember where or how long ago I read it)? And I don't wanna break my projects with TF dependency"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262856005", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262856005", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262856005, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg1NjAwNQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-24T23:35:06Z", "updated_at": "2016-11-24T23:35:06Z", "author_association": "CONTRIBUTOR", "body": "@zhongyuk Hm, I think it's unlikely that it is related. Before I reinstalled miniconda, I also had the problem in macOS Sierra. PS: Tensorflow works fine for me on Sierra, but I only do CPU and prototyping on my macs so I don't know about GPU issues related to Sierra"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262856324", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262856324", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262856324, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg1NjMyNA==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-24T23:40:59Z", "updated_at": "2016-11-24T23:40:59Z", "author_association": "NONE", "body": "@rasbt hmm, that's good to know that TF works fine on Sierra. Do you wanna run `otool -L` on the `sklearn/manifold/_barnes_hut_tsne.so` file in your platform to see which math library sklearn using underneath? At least that way we might know if the problem went away after reinstalling miniconda is fundamentally linked to math library?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262859535", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262859535", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262859535, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg1OTUzNQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-25T00:30:52Z", "updated_at": "2016-11-25T00:30:52Z", "author_association": "CONTRIBUTOR", "body": "I am getting the following on `_barnes_hut_tsne.cpython-35m-darwin.so`:\r\n\r\n```\r\n\t@rpath/libmkl_intel_lp64.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n\t@rpath/libmkl_intel_thread.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n\t@rpath/libmkl_core.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n\t@rpath/libiomp5.dylib (compatibility version 5.0.0, current version 5.0.0)\r\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)\r\n```"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262860068", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262860068", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262860068, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg2MDA2OA==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-25T00:39:54Z", "updated_at": "2016-11-25T00:42:45Z", "author_association": "NONE", "body": "@rasbt Hmm, that's really interesting. It's using MKL as well. I don't know enough about the math library to speculate what does this mean... @lesteve probably will be able to infer more from this?\r\n\r\nI noticed that in my platform `libmkl_intel_lp64.dylib` is not loaded... Is it possible that caused the problem?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262860783", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262860783", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262860783, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg2MDc4Mw==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-25T00:51:10Z", "updated_at": "2016-11-25T01:00:42Z", "author_association": "NONE", "body": "WOW, yes! it is caused by `libmkl_intel_lp64.dylib` not loaded!!! I found [this thread on stack overflow](http://stackoverflow.com/questions/35392996/library-not-loaded-libmkl-intel-lp64-dylib-using-anaconda-on-os-x) and then ran `conda install --debug mkl`, then ran `otool -L` on the  `sklearn/manifold/_barnes_hut_tsne.so` file, then `libmkl_intel_lp64.dylib` loaded up, and ran the code snippet, error went away! Have five team work! @rasbt \r\n\r\nIf anyone else could check on their platform and see if the error went away after making sure `libmkl_intel_lp64.dylib` is loaded, that would be great!\r\n\r\n@lesteve Since it does look like a lot of ppl has hit this problem, and it does look like it's related to (some version of ?) conda not extracting full MKL libraries (my understanding of the situation so far), even though it's not a scikit-learn bug, I do think either add some kind of remark or warning or error messages to (OS X) users would be nice? That way at least they can check if MKL lib is fully extracted in their platform and then fix it if it's not?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262871859", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262871859", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262871859, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg3MTg1OQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-25T03:01:08Z", "updated_at": "2016-11-25T03:01:35Z", "author_association": "CONTRIBUTOR", "body": "@zhongyuk awesome, glad to hear that you were able to narrow it down! Hopefully, it's just the broken link/incomplete install of the `libmkl_intel_lp64.dylib` -- that would be awesome (in terms of knowing what's going on) :). That would also explain why it works for me now after re-installing Miniconda ... Would be great if someone else could try the \"fix.\" \r\n\r\nIf the aforementioned `libmkl_intel_lp64.dylib` really caused this issue, the remaining question would be how to deal with that in scikit-learn. I mean, this \"bug\" is kind of hideous and it may be a bit tricky for folks to figure out that it's due to `libmkl_intel_lp64.dylib`. I probably wouldn't inject an additional \"if gradient contains inf raise error + message\" in the code in scikit-learn since it could be quite annoying performance-wise. However, i think that adding a note or comment in the installation and/or T-SNE docs would be a good idea."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/262880882", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262880882", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 262880882, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg4MDg4Mg==", "user": {"login": "zhongyuk", "id": 6901075, "node_id": "MDQ6VXNlcjY5MDEwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6901075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyuk", "html_url": "https://github.com/zhongyuk", "followers_url": "https://api.github.com/users/zhongyuk/followers", "following_url": "https://api.github.com/users/zhongyuk/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyuk/subscriptions", "organizations_url": "https://api.github.com/users/zhongyuk/orgs", "repos_url": "https://api.github.com/users/zhongyuk/repos", "events_url": "https://api.github.com/users/zhongyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyuk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-25T04:56:55Z", "updated_at": "2016-11-25T04:56:55Z", "author_association": "NONE", "body": "Just want to add a quick update: I had 2 virtual envs in conda both using MKL. One of them is equipped with `numpy 1.11.1` and the other is equipped with `numpy 1.11.2`. Running `otool -L` indicated that both of them somehow didn't have `libmkl_intel_lp64.dylib` loaded. After making sure `libmkl_intel_lp64.dylib` loaded up, the error disappeared in the virtual env with `numpy 1.11.2`. However, the error remained appearing in the env with `numpy 1.11.1`. After upgrading `numpy` to 1.11.2, I can no longer reproduce the error in either conda virtual environment. As it sounds complicated and the exact cause of the error is still obscure, I speculate it's probably a complication interweaved by incomplete MKL library loading and scikit-learn dependent libraries (possibly numpy?).  (Although I haven't tried to create an virtualenv with MKL and `numpy 1.11.1` to see if this would reproduce the error.)\r\n\r\nAnd I second @rasbt suggestion on adding some kind of note, comment or docs!"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/263013188", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-263013188", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 263013188, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzAxMzE4OA==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-25T19:19:32Z", "updated_at": "2016-11-25T19:19:32Z", "author_association": "MEMBER", "body": "@zhongyuk glad you got it fixed ! It seems that reinstalling packages with conda may help but I am afraid there doesn't seem to be a very clear picture of the cause of the problem :(."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/264006358", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-264006358", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 264006358, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDAwNjM1OA==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-30T21:48:55Z", "updated_at": "2016-11-30T21:48:55Z", "author_association": "MEMBER", "body": "This is a conda bug, right? Or did anyone experience the bug not using conda?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/264029983", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-264029983", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 264029983, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDAyOTk4Mw==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-30T23:28:07Z", "updated_at": "2016-12-01T05:49:45Z", "author_association": "MEMBER", "body": "I managed to find a way to reproduce I think by installing the numpy wheel and then scikit-learn via conda on top of it (got the hint from the `conda list` output in https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262800762 where two `numpy` are listed).\r\n\r\n```bash\r\nconda create -n tmp python=3 -y\r\n. activate tmp\r\npip install numpy -y\r\nconda install scikit-learn -y\r\n```\r\n\r\nthen execute the snippet from https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-262800762.\r\n\r\nSo it seems like this is happening when mixing numpy installed via pip and conda. In my book this is never a good idea to mix pip and conda for a given package but I guess this can happen without realizing it quite easily (for example you install a project that depends on numpy via pip, and then scikit-learn via conda).\r\n\r\nWhy this exactly happens I don't know ... and it seems to happen only on OSX by the way (i.e. not on my Ubuntu box).\r\n\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/264087057", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-264087057", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 264087057, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDA4NzA1Nw==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-01T06:07:12Z", "updated_at": "2016-12-01T06:07:12Z", "author_association": "MEMBER", "body": "For anyone affected by this, this should fix it:\r\n\r\n```bash\r\nconda remove numpy --force -y\r\npip uninstall numpy -y\r\nconda install numpy\r\n```\r\n\r\nLet me know if that doesn't work for you."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/264304571", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-264304571", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 264304571, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDMwNDU3MQ==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-01T21:43:19Z", "updated_at": "2016-12-01T21:43:19Z", "author_association": "MEMBER", "body": "Thanks for the deep dive (again!) @lesteve "}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/264420773", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-264420773", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 264420773, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDQyMDc3Mw==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-02T10:17:43Z", "updated_at": "2016-12-02T10:17:43Z", "author_association": "MEMBER", "body": "I thought we would never get to the bottom of this one to be honest :) ! OK it's not quite the bottom but it's low enough as far as I am concerned.\r\n\r\nI have to admit I would still like to understand what's happening within the numpy installed with both pip and conda ..."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282177650", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282177650", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282177650, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3NzY1MA==", "user": {"login": "BerenLuthien", "id": 20260688, "node_id": "MDQ6VXNlcjIwMjYwNjg4", "avatar_url": "https://avatars2.githubusercontent.com/u/20260688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BerenLuthien", "html_url": "https://github.com/BerenLuthien", "followers_url": "https://api.github.com/users/BerenLuthien/followers", "following_url": "https://api.github.com/users/BerenLuthien/following{/other_user}", "gists_url": "https://api.github.com/users/BerenLuthien/gists{/gist_id}", "starred_url": "https://api.github.com/users/BerenLuthien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BerenLuthien/subscriptions", "organizations_url": "https://api.github.com/users/BerenLuthien/orgs", "repos_url": "https://api.github.com/users/BerenLuthien/repos", "events_url": "https://api.github.com/users/BerenLuthien/events{/privacy}", "received_events_url": "https://api.github.com/users/BerenLuthien/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-24T01:35:41Z", "updated_at": "2017-02-24T01:50:00Z", "author_association": "NONE", "body": "Hi \r\nI tried two setups, where\r\n\r\n- TSNE works well with one setup (where Tensorflow is de-activated, Python-3.x), however,\r\n\r\n- TSNE does not work with the other setup (where Tensorflow is activated, Python 2.x).\r\n\r\n\r\n**The set up where TSNE works well:**\r\n\r\nTerminal:\r\n```\r\nMacbook:~ BG$ which jupyter\r\n/Users/BG/anaconda/bin/jupyter\r\n\r\n```\r\nJupyer notebook:\r\n```\r\nimport sys\r\nprint (sys.version)\r\n```\r\n>>\r\n```\r\n3.5.2 |Anaconda 4.2.0 (x86_64)| (default, Jul  2 2016, 17:52:12) \r\n[GCC 4.2.1 Compatible Apple LLVM 4.2 (clang-425.0.28)]\r\n```\r\nNote: I tried\r\n```\r\nconda remove numpy --force -y\r\npip uninstall numpy -y\r\nconda install numpy\r\n```\r\nto make TSNE work well with Tensorflow deactivated.\r\nHowever, with the new setup below (where I have to use Tensorflow), this does not work any more.\r\n\u2014\u2014-\u2014\u2014\u2014-\u2014\u2014\u2014-\u2014\u2014\u2014-\u2014\u2014\u2014-\u2014\u2014\u2014-\u2014\u2014\u2014-\u2014\u2014\u2014-\r\n\r\n**The set up where TSNE does not work:**\r\n\r\n**Terminal:**\r\n```\r\nMacbook:~$ source activate tensorflow\r\n(tensorflow) Macbook:~$ which jupyter\r\n/Users//anaconda/envs/tensorflow/bin/jupyter\r\n(tensorflow) Macbook:~$ \r\n```\r\n\r\n**Jupyer notebook:**\r\n```\r\nimport sys\r\nprint (sys.version)\r\n```\r\n>>\r\n\r\n```\r\n2.7.13 |Continuum Analytics, Inc.| (default, Dec 20 2016, 23:05:08) \r\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]\r\n```\r\n\r\n**Error**: \r\n`ValueError: array must not contain infs or NaNs\r\n`\r\n\r\nAny suggestions ? Thanks a lot"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282178569", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282178569", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282178569, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3ODU2OQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-24T01:41:19Z", "updated_at": "2017-02-24T01:41:19Z", "author_association": "CONTRIBUTOR", "body": "Interesting. I think it has nothing to do with tensorflow; my guess is that\r\n\r\n[GCC 4.2.1 Compatible Apple LLVM 4.2 (clang-425.0.28)]\r\n\r\nvs\r\n\r\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]\r\n\r\nis the culprit!?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282179263", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282179263", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282179263, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3OTI2Mw==", "user": {"login": "BerenLuthien", "id": 20260688, "node_id": "MDQ6VXNlcjIwMjYwNjg4", "avatar_url": "https://avatars2.githubusercontent.com/u/20260688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BerenLuthien", "html_url": "https://github.com/BerenLuthien", "followers_url": "https://api.github.com/users/BerenLuthien/followers", "following_url": "https://api.github.com/users/BerenLuthien/following{/other_user}", "gists_url": "https://api.github.com/users/BerenLuthien/gists{/gist_id}", "starred_url": "https://api.github.com/users/BerenLuthien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BerenLuthien/subscriptions", "organizations_url": "https://api.github.com/users/BerenLuthien/orgs", "repos_url": "https://api.github.com/users/BerenLuthien/repos", "events_url": "https://api.github.com/users/BerenLuthien/events{/privacy}", "received_events_url": "https://api.github.com/users/BerenLuthien/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-24T01:45:30Z", "updated_at": "2017-02-24T01:58:00Z", "author_association": "NONE", "body": "Thanks for response :) Any suggested solutions/to_do_list ? \r\n\r\nNeed use both\r\nTensorflow and\r\nTSNE\r\nin Jupyter notebook ....\r\n\r\nBTW: just tried \"from __future__ import division\" in Python 2.x and did not solve the problem.\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282182459", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282182459", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282182459, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE4MjQ1OQ==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-24T02:05:30Z", "updated_at": "2017-02-24T02:05:30Z", "author_association": "CONTRIBUTOR", "body": "Hm, not sure if that helps -- personally, I am not getting this mysterious issue anymore with \r\n\r\n\r\n```\r\nPython 3.5.3 |Continuum Analytics, Inc.| (default, Feb 22 2017, 20:51:01) \r\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin\r\n```\r\n\r\nI am on Tf (now 1.0) as well, and I don't have this `Error: ValueError: array must not contain infs or NaNs` issue anymorewhen I execute \r\n\r\n```\r\nimport numpy as np\r\nfrom sklearn.manifold import TSNE\r\n\r\nnp.random.seed(1)\r\n\r\na = np.random.uniform(size=(100, 20))\r\nTSNE(n_components=2, random_state=1).fit_transform(a)\r\n```\r\n\r\nwhich previously didn't work. \r\n\r\nMaybe try to create a new python 3.5 env and try the above-mentioned snippet to see if it works without error:\r\n\r\n```\r\nconda create -n yourenv python=3.5 numpy scipy scikit-learn\r\nsource activate yourenv\r\npip install tensorflow(-gpu)\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282213293", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282213293", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282213293, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjIxMzI5Mw==", "user": {"login": "BerenLuthien", "id": 20260688, "node_id": "MDQ6VXNlcjIwMjYwNjg4", "avatar_url": "https://avatars2.githubusercontent.com/u/20260688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BerenLuthien", "html_url": "https://github.com/BerenLuthien", "followers_url": "https://api.github.com/users/BerenLuthien/followers", "following_url": "https://api.github.com/users/BerenLuthien/following{/other_user}", "gists_url": "https://api.github.com/users/BerenLuthien/gists{/gist_id}", "starred_url": "https://api.github.com/users/BerenLuthien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BerenLuthien/subscriptions", "organizations_url": "https://api.github.com/users/BerenLuthien/orgs", "repos_url": "https://api.github.com/users/BerenLuthien/repos", "events_url": "https://api.github.com/users/BerenLuthien/events{/privacy}", "received_events_url": "https://api.github.com/users/BerenLuthien/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-24T06:13:05Z", "updated_at": "2017-02-24T06:13:05Z", "author_association": "NONE", "body": "Hi rasbt, \r\nYes I made TSNE work on Python 3.5.\r\nHowever, for some other reason I'd better use Python 2.7, so I have to continue to explore ... cross fingers\r\n\r\nThanks for your help."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282215444", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282215444", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282215444, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjIxNTQ0NA==", "user": {"login": "rasbt", "id": 5618407, "node_id": "MDQ6VXNlcjU2MTg0MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasbt", "html_url": "https://github.com/rasbt", "followers_url": "https://api.github.com/users/rasbt/followers", "following_url": "https://api.github.com/users/rasbt/following{/other_user}", "gists_url": "https://api.github.com/users/rasbt/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasbt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasbt/subscriptions", "organizations_url": "https://api.github.com/users/rasbt/orgs", "repos_url": "https://api.github.com/users/rasbt/repos", "events_url": "https://api.github.com/users/rasbt/events{/privacy}", "received_events_url": "https://api.github.com/users/rasbt/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-24T06:29:22Z", "updated_at": "2017-02-24T06:32:07Z", "author_association": "CONTRIBUTOR", "body": "Do you have an old(er) Miniconda/Anaconda 2.7 distro installed? In this case, maybe consider installing one of the more recent ones, or update your conda root or default python and give it another try (or create a new py 27 env by substituting the 3.5 by 2.7 in `conda create -n yourenv python=3.5 numpy scipy scikit-learn`) ? (not sure if this is really the reason, but I think `LLVM 4.2 (clang-425.0.28)` may be an issue; since the error doesn't seem to occur via `[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]`)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282433042", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282433042", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282433042, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjQzMzA0Mg==", "user": {"login": "BerenLuthien", "id": 20260688, "node_id": "MDQ6VXNlcjIwMjYwNjg4", "avatar_url": "https://avatars2.githubusercontent.com/u/20260688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BerenLuthien", "html_url": "https://github.com/BerenLuthien", "followers_url": "https://api.github.com/users/BerenLuthien/followers", "following_url": "https://api.github.com/users/BerenLuthien/following{/other_user}", "gists_url": "https://api.github.com/users/BerenLuthien/gists{/gist_id}", "starred_url": "https://api.github.com/users/BerenLuthien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BerenLuthien/subscriptions", "organizations_url": "https://api.github.com/users/BerenLuthien/orgs", "repos_url": "https://api.github.com/users/BerenLuthien/repos", "events_url": "https://api.github.com/users/BerenLuthien/events{/privacy}", "received_events_url": "https://api.github.com/users/BerenLuthien/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-24T23:25:31Z", "updated_at": "2017-02-24T23:25:31Z", "author_association": "NONE", "body": "Update: TSNE(perplexity=30, n_components=2, init='pca', n_iter=1000, **method='exact'**) make it  worked ...\r\n **method='exact'** was the trick.\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282869472", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282869472", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282869472, "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mjg2OTQ3Mg==", "user": {"login": "bglick13", "id": 10660703, "node_id": "MDQ6VXNlcjEwNjYwNzAz", "avatar_url": "https://avatars0.githubusercontent.com/u/10660703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bglick13", "html_url": "https://github.com/bglick13", "followers_url": "https://api.github.com/users/bglick13/followers", "following_url": "https://api.github.com/users/bglick13/following{/other_user}", "gists_url": "https://api.github.com/users/bglick13/gists{/gist_id}", "starred_url": "https://api.github.com/users/bglick13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bglick13/subscriptions", "organizations_url": "https://api.github.com/users/bglick13/orgs", "repos_url": "https://api.github.com/users/bglick13/repos", "events_url": "https://api.github.com/users/bglick13/events{/privacy}", "received_events_url": "https://api.github.com/users/bglick13/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-27T21:58:32Z", "updated_at": "2017-02-27T21:58:32Z", "author_association": "NONE", "body": "Also been having this problem. Using method='exact' seems to works for me, but it is so painfully slow. Is there really no other solution that people have found?"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/282996241", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-282996241", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 282996241, "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mjk5NjI0MQ==", "user": {"login": "lesteve", "id": 1680079, "node_id": "MDQ6VXNlcjE2ODAwNzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1680079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lesteve", "html_url": "https://github.com/lesteve", "followers_url": "https://api.github.com/users/lesteve/followers", "following_url": "https://api.github.com/users/lesteve/following{/other_user}", "gists_url": "https://api.github.com/users/lesteve/gists{/gist_id}", "starred_url": "https://api.github.com/users/lesteve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lesteve/subscriptions", "organizations_url": "https://api.github.com/users/lesteve/orgs", "repos_url": "https://api.github.com/users/lesteve/repos", "events_url": "https://api.github.com/users/lesteve/events{/privacy}", "received_events_url": "https://api.github.com/users/lesteve/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-28T10:03:07Z", "updated_at": "2017-02-28T10:03:07Z", "author_association": "MEMBER", "body": "Have you read https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-264029983 and https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-264087057 ?\r\n\r\nThe only way I managed to reproduce this problem was to install numpy with both pip and conda in the same conda environment. If you create a conda environment from scratch you should not have this problem.\r\n\r\nIn case your problem do not seem to match this description, please post the exact commands you ran to create your conda environment, so we can try to reproduce.\r\n\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/300927112", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-300927112", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 300927112, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDkyNzExMg==", "user": {"login": "jsevo", "id": 5849690, "node_id": "MDQ6VXNlcjU4NDk2OTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5849690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsevo", "html_url": "https://github.com/jsevo", "followers_url": "https://api.github.com/users/jsevo/followers", "following_url": "https://api.github.com/users/jsevo/following{/other_user}", "gists_url": "https://api.github.com/users/jsevo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsevo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsevo/subscriptions", "organizations_url": "https://api.github.com/users/jsevo/orgs", "repos_url": "https://api.github.com/users/jsevo/repos", "events_url": "https://api.github.com/users/jsevo/events{/privacy}", "received_events_url": "https://api.github.com/users/jsevo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-11T21:51:45Z", "updated_at": "2017-05-11T21:52:15Z", "author_association": "NONE", "body": "Hi, \r\nI read the above comments and can reproduce this. I re-ran code from a few weeks ago and now this issue appears. Here's a minimal example that now reproduces this issue:\r\n```\r\nfrom sklearn.manifold import TSNE\r\na = [[1,2,3],[4,5,6], [7,8,9]]\r\nTSNE(n_components=2,).fit_transform(a)\r\n```\r\n\r\nAnd the output of \r\n```\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\n```\r\nis\r\n\r\n```\r\nDarwin-16.5.0-x86_64-i386-64bit\r\nPython 3.6.0 |Anaconda 4.3.0 (x86_64)| (default, Dec 23 2016, 13:19:00) \r\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]\r\nNumPy 1.12.1\r\nSciPy 0.19.0\r\nScikit-Learn 0.18.1\r\n```\r\nAgain, changing the method to exact (`TSNE(method='exact')`) gets rid of the error. \r\n\r\nMore generally, I have noticed wildly different results when using sklearn's TSNE (with identitical perplexity and other parameters) from the bh implementation published by Laurens van der Maaten and the MATLAB version. I wonder if there may be a connection?\r\n\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/300939943", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-300939943", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 300939943, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDkzOTk0Mw==", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-11T23:03:42Z", "updated_at": "2017-05-11T23:03:42Z", "author_association": "CONTRIBUTOR", "body": "Did you refer to https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-264087057"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/300968268", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-300968268", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 300968268, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDk2ODI2OA==", "user": {"login": "jsevo", "id": 5849690, "node_id": "MDQ6VXNlcjU4NDk2OTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5849690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsevo", "html_url": "https://github.com/jsevo", "followers_url": "https://api.github.com/users/jsevo/followers", "following_url": "https://api.github.com/users/jsevo/following{/other_user}", "gists_url": "https://api.github.com/users/jsevo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsevo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsevo/subscriptions", "organizations_url": "https://api.github.com/users/jsevo/orgs", "repos_url": "https://api.github.com/users/jsevo/repos", "events_url": "https://api.github.com/users/jsevo/events{/privacy}", "received_events_url": "https://api.github.com/users/jsevo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-12T02:35:31Z", "updated_at": "2017-05-12T02:35:31Z", "author_association": "NONE", "body": "That fixed it. My apologies - I had separately uninstalled an reinstalled numpy, scikit learn and scipy, but not like in 6665. "}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/302909062", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-302909062", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 302909062, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjkwOTA2Mg==", "user": {"login": "OptimusCrime", "id": 2326278, "node_id": "MDQ6VXNlcjIzMjYyNzg=", "avatar_url": "https://avatars0.githubusercontent.com/u/2326278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OptimusCrime", "html_url": "https://github.com/OptimusCrime", "followers_url": "https://api.github.com/users/OptimusCrime/followers", "following_url": "https://api.github.com/users/OptimusCrime/following{/other_user}", "gists_url": "https://api.github.com/users/OptimusCrime/gists{/gist_id}", "starred_url": "https://api.github.com/users/OptimusCrime/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OptimusCrime/subscriptions", "organizations_url": "https://api.github.com/users/OptimusCrime/orgs", "repos_url": "https://api.github.com/users/OptimusCrime/repos", "events_url": "https://api.github.com/users/OptimusCrime/events{/privacy}", "received_events_url": "https://api.github.com/users/OptimusCrime/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-21T01:28:00Z", "updated_at": "2017-05-21T01:28:24Z", "author_association": "NONE", "body": "I had the same problem as reported here, and I do not use conda.\r\n\r\nMy Python version is installed via brew on macOS Sierra 10.12.4\r\n\r\n```\r\nPython 3.6.1\r\nscipy==0.19.0\r\nscikit-learn==0.18.1\r\nnumpy==1.11.1\r\n```\r\n\r\nAdding `mode='exact'` solved my problem."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/305559425", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-305559425", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 305559425, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTU1OTQyNQ==", "user": {"login": "bbartoldson", "id": 15717529, "node_id": "MDQ6VXNlcjE1NzE3NTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15717529?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bbartoldson", "html_url": "https://github.com/bbartoldson", "followers_url": "https://api.github.com/users/bbartoldson/followers", "following_url": "https://api.github.com/users/bbartoldson/following{/other_user}", "gists_url": "https://api.github.com/users/bbartoldson/gists{/gist_id}", "starred_url": "https://api.github.com/users/bbartoldson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bbartoldson/subscriptions", "organizations_url": "https://api.github.com/users/bbartoldson/orgs", "repos_url": "https://api.github.com/users/bbartoldson/repos", "events_url": "https://api.github.com/users/bbartoldson/events{/privacy}", "received_events_url": "https://api.github.com/users/bbartoldson/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-01T17:13:03Z", "updated_at": "2017-06-01T17:13:03Z", "author_association": "NONE", "body": "@lesteve: i had this error using the setup you describe (two versions of numpy installed). simply updating the conda install of numpy to the same version as the pip install (1.12.1) did the trick for me. i did remove the pip numpy install, though, as i didn't intend to have two versions :)"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/305856165", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-305856165", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 305856165, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTg1NjE2NQ==", "user": {"login": "walkon302", "id": 19885644, "node_id": "MDQ6VXNlcjE5ODg1NjQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/19885644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/walkon302", "html_url": "https://github.com/walkon302", "followers_url": "https://api.github.com/users/walkon302/followers", "following_url": "https://api.github.com/users/walkon302/following{/other_user}", "gists_url": "https://api.github.com/users/walkon302/gists{/gist_id}", "starred_url": "https://api.github.com/users/walkon302/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/walkon302/subscriptions", "organizations_url": "https://api.github.com/users/walkon302/orgs", "repos_url": "https://api.github.com/users/walkon302/repos", "events_url": "https://api.github.com/users/walkon302/events{/privacy}", "received_events_url": "https://api.github.com/users/walkon302/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-02T17:19:02Z", "updated_at": "2017-06-02T17:19:02Z", "author_association": "NONE", "body": "@lesteve: Thank you for the solution! I happened to have this error and then I found this discussion. Fix it right away after remove the duplicated version of numpy."}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322502186", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-322502186", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 322502186, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjUwMjE4Ng==", "user": {"login": "wolfiex", "id": 15582577, "node_id": "MDQ6VXNlcjE1NTgyNTc3", "avatar_url": "https://avatars3.githubusercontent.com/u/15582577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wolfiex", "html_url": "https://github.com/wolfiex", "followers_url": "https://api.github.com/users/wolfiex/followers", "following_url": "https://api.github.com/users/wolfiex/following{/other_user}", "gists_url": "https://api.github.com/users/wolfiex/gists{/gist_id}", "starred_url": "https://api.github.com/users/wolfiex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wolfiex/subscriptions", "organizations_url": "https://api.github.com/users/wolfiex/orgs", "repos_url": "https://api.github.com/users/wolfiex/repos", "events_url": "https://api.github.com/users/wolfiex/events{/privacy}", "received_events_url": "https://api.github.com/users/wolfiex/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-15T15:31:17Z", "updated_at": "2017-08-15T15:35:22Z", "author_association": "NONE", "body": "**Replicated** I have removed pip installs of numpy and updated conda. \r\n\r\nDarwin-16.7.0-x86_64-i386-64bit\r\n('Python', '2.7.13 |Anaconda custom (x86_64)| (default, Dec 20 2016, 23:05:08) \\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]')\r\n('NumPy', '1.13.1')\r\n('SciPy', '0.19.0')\r\n('Scikit-Learn', '0.18.1')\r\n\r\n\r\nIt seems fine on my linux machine Linux:\r\nLinux-3.0.101-0.47.71-default-x86_64-with-SuSE-11-x86_64\r\n('Python', '2.7.12 |Anaconda 2.3.0 (64-bit)| (default, Jul  2 2016, 17:42:40) \\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]')\r\n('NumPy', '1.12.1')\r\n('SciPy', '0.19.1')\r\n('Scikit-Learn', '0.18.1')\r\n"}, {"url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/comments/322524817", "html_url": "https://github.com/scikit-learn/scikit-learn/issues/6665#issuecomment-322524817", "issue_url": "https://api.github.com/repos/scikit-learn/scikit-learn/issues/6665", "id": 322524817, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjUyNDgxNw==", "user": {"login": "amueller", "id": 449558, "node_id": "MDQ6VXNlcjQ0OTU1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/449558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amueller", "html_url": "https://github.com/amueller", "followers_url": "https://api.github.com/users/amueller/followers", "following_url": "https://api.github.com/users/amueller/following{/other_user}", "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amueller/subscriptions", "organizations_url": "https://api.github.com/users/amueller/orgs", "repos_url": "https://api.github.com/users/amueller/repos", "events_url": "https://api.github.com/users/amueller/events{/privacy}", "received_events_url": "https://api.github.com/users/amueller/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-15T16:56:44Z", "updated_at": "2017-08-15T16:56:44Z", "author_association": "MEMBER", "body": "@wolfiex so you did\r\n```\r\nconda remove numpy --force -y\r\npip uninstall numpy -y\r\nconda install numpy\r\n```\r\nSomewhat related I recommend you update to scikit-learn 0.19 which has some fixes in t-SNE"}]